# /// script
# dependencies = []
# 
# [tool.griptape-nodes]
# name = "Flux 2 - Replace a Face"
# schema_version = "0.14.0"
# engine_version_created_with = "0.66.1"
# node_libraries_referenced = [["Griptape Nodes Library", "0.53.0"]]
# node_types_used = [["Griptape Nodes Library", "EndFlow"], ["Griptape Nodes Library", "Flux2ImageGeneration"], ["Griptape Nodes Library", "ImageDetails"], ["Griptape Nodes Library", "IntegerInput"], ["Griptape Nodes Library", "InvertImage"], ["Griptape Nodes Library", "LoadImage"], ["Griptape Nodes Library", "MathExpression"], ["Griptape Nodes Library", "Note"], ["Griptape Nodes Library", "PaintMask"], ["Griptape Nodes Library", "RescaleImage"], ["Griptape Nodes Library", "StartFlow"], ["Griptape Nodes Library", "TextInput"], ["Griptape Nodes Library", "Webcam"]]
# is_griptape_provided = true
# creation_date = 2025-12-19T16:46:03.491620Z
# last_modified_date = "2025-12-20T09:47:37.374430Z"
# workflow_shape = "{\"inputs\":{\"Start Flow\":{\"exec_out\":{\"name\":\"exec_out\",\"tooltip\":\"Connection to the next node in the execution chain\",\"type\":\"parametercontroltype\",\"input_types\":[\"parametercontroltype\"],\"output_type\":\"parametercontroltype\",\"default_value\":null,\"tooltip_as_input\":null,\"tooltip_as_property\":null,\"tooltip_as_output\":null,\"ui_options\":{\"display_name\":\"Flow Out\"},\"settable\":true,\"is_user_defined\":true,\"parent_container_name\":null,\"parent_element_name\":null},\"input_url\":{\"name\":\"input_url\",\"tooltip\":\"Enter text/string for input_url.\",\"type\":\"str\",\"input_types\":[\"str\"],\"output_type\":\"str\",\"default_value\":\"https://images.pdimagearchive.org/collections/rogues-a-study-of-characters-samuel-g-szabo/rogues-samuel-g-szabo-00017.jpeg\",\"tooltip_as_input\":null,\"tooltip_as_property\":null,\"tooltip_as_output\":null,\"ui_options\":{\"is_custom\":true,\"is_user_added\":true},\"settable\":true,\"is_user_defined\":true,\"parent_container_name\":null,\"parent_element_name\":null}}},\"outputs\":{\"End Flow\":{\"exec_in\":{\"name\":\"exec_in\",\"tooltip\":\"Control path when the flow completed successfully\",\"type\":\"parametercontroltype\",\"input_types\":[\"parametercontroltype\"],\"output_type\":\"parametercontroltype\",\"default_value\":null,\"tooltip_as_input\":null,\"tooltip_as_property\":null,\"tooltip_as_output\":null,\"ui_options\":{\"display_name\":\"Succeeded\"},\"settable\":true,\"is_user_defined\":true,\"parent_container_name\":null,\"parent_element_name\":null},\"failed\":{\"name\":\"failed\",\"tooltip\":\"Control path when the flow failed\",\"type\":\"parametercontroltype\",\"input_types\":[\"parametercontroltype\"],\"output_type\":\"parametercontroltype\",\"default_value\":null,\"tooltip_as_input\":null,\"tooltip_as_property\":null,\"tooltip_as_output\":null,\"ui_options\":{\"display_name\":\"Failed\"},\"settable\":true,\"is_user_defined\":true,\"parent_container_name\":null,\"parent_element_name\":null},\"was_successful\":{\"name\":\"was_successful\",\"tooltip\":\"Indicates whether it completed without errors.\",\"type\":\"bool\",\"input_types\":[\"bool\"],\"output_type\":\"bool\",\"default_value\":false,\"tooltip_as_input\":null,\"tooltip_as_property\":null,\"tooltip_as_output\":null,\"ui_options\":{},\"settable\":false,\"is_user_defined\":true,\"parent_container_name\":null,\"parent_element_name\":null},\"result_details\":{\"name\":\"result_details\",\"tooltip\":\"Details about the operation result\",\"type\":\"str\",\"input_types\":[\"str\"],\"output_type\":\"str\",\"default_value\":null,\"tooltip_as_input\":null,\"tooltip_as_property\":null,\"tooltip_as_output\":null,\"ui_options\":{\"multiline\":true,\"placeholder_text\":\"Details about the completion or failure will be shown here.\"},\"settable\":false,\"is_user_defined\":true,\"parent_container_name\":null,\"parent_element_name\":null},\"image_url\":{\"name\":\"image_url\",\"tooltip\":\"New parameter\",\"type\":\"ImageUrlArtifact\",\"input_types\":[\"ImageUrlArtifact\"],\"output_type\":\"ImageUrlArtifact\",\"default_value\":\"\",\"tooltip_as_input\":null,\"tooltip_as_property\":null,\"tooltip_as_output\":null,\"ui_options\":{\"is_full_width\":true,\"pulse_on_run\":true,\"is_custom\":true,\"is_user_added\":true},\"settable\":true,\"is_user_defined\":true,\"parent_container_name\":\"\",\"parent_element_name\":null}}}}"
# description = "Replace a face in an image using inpainting with Flux 2, the Paint Mask node, and a Webcam photo of yourself."
# is_template = true
# image = "https://raw.githubusercontent.com/griptape-ai/griptape-nodes/refs/heads/main/libraries/griptape_nodes_library/workflows/templates/thumbnail_flux_2_-_replace_a_face.webp"
# 
# ///

import argparse
import asyncio
import json
import pickle
from griptape.artifacts.image_url_artifact import ImageUrlArtifact
from griptape_nodes.bootstrap.workflow_executors.local_workflow_executor import LocalWorkflowExecutor
from griptape_nodes.bootstrap.workflow_executors.workflow_executor import WorkflowExecutor
from griptape_nodes.drivers.storage.storage_backend import StorageBackend
from griptape_nodes.node_library.library_registry import IconVariant, NodeDeprecationMetadata, NodeMetadata
from griptape_nodes.retained_mode.events.connection_events import CreateConnectionRequest
from griptape_nodes.retained_mode.events.flow_events import CreateFlowRequest, GetTopLevelFlowRequest, GetTopLevelFlowResultSuccess
from griptape_nodes.retained_mode.events.library_events import LoadLibrariesRequest
from griptape_nodes.retained_mode.events.node_events import CreateNodeRequest
from griptape_nodes.retained_mode.events.parameter_events import AddParameterToNodeRequest, AlterParameterDetailsRequest, SetParameterValueRequest
from griptape_nodes.retained_mode.griptape_nodes import GriptapeNodes

GriptapeNodes.handle_request(LoadLibrariesRequest())

context_manager = GriptapeNodes.ContextManager()

if not context_manager.has_current_workflow():
    context_manager.push_workflow(workflow_name='Flux 2 - Replace a Face')

"""
1. We've collated all of the unique parameter values into a dictionary so that we do not have to duplicate them.
   This minimizes the size of the code, especially for large objects like serialized image files.
2. We're using a prefix so that it's clear which Flow these values are associated with.
3. The values are serialized using pickle, which is a binary format. This makes them harder to read, but makes
   them consistently save and load. It allows us to serialize complex objects like custom classes, which otherwise
   would be difficult to serialize.
"""
top_level_unique_values_dict = {'d1a77361-2ab6-45e5-bc71-5c31271a0247': pickle.loads(b'\x80\x04\x95w\x01\x00\x00\x00\x00\x00\x00\x8c%griptape.artifacts.image_url_artifact\x94\x8c\x10ImageUrlArtifact\x94\x93\x94)\x81\x94}\x94(\x8c\x04type\x94\x8c\x10ImageUrlArtifact\x94\x8c\x0bmodule_name\x94\x8c%griptape.artifacts.image_url_artifact\x94\x8c\x02id\x94\x8c c9093072ce554592afb6fb2fad0b4e00\x94\x8c\treference\x94N\x8c\x04meta\x94}\x94\x8c\x04name\x94h\n\x8c\x16encoding_error_handler\x94\x8c\x06strict\x94\x8c\x08encoding\x94\x8c\x05utf-8\x94\x8c\x05value\x94\x8cZhttp://localhost:8124/workspace/static_files/rogues-samuel-g-szabo-00017.jpeg?t=1766174812\x94ub.'), '8a96804a-8c1a-4bc1-a318-9626eaf8bc92': pickle.loads(b'\x80\x04\x95^\x00\x00\x00\x00\x00\x00\x00\x8cZhttp://localhost:8124/workspace/static_files/rogues-samuel-g-szabo-00017.jpeg?t=1766174812\x94.'), '493e595f-c33f-4968-a61f-55dd3f824d83': pickle.loads(b'\x80\x04\x95\x08\x00\x00\x00\x00\x00\x00\x00\x8c\x04none\x94.'), '1cb12ffa-e2e9-438a-b70a-99a2fc1474df': pickle.loads(b'\x80\x04\x89.'), '5be08aed-832f-469b-8e9b-058bf3826859': pickle.loads(b'\x80\x04\x950\x00\x00\x00\x00\x00\x00\x00\x8c,<Results will appear when the node executes>\x94.'), '88b4112b-7778-476f-b8c6-382cd0a15efa': pickle.loads(b'\x80\x04\x95\x10\x02\x00\x00\x00\x00\x00\x00\x8c%griptape.artifacts.image_url_artifact\x94\x8c\x10ImageUrlArtifact\x94\x93\x94)\x81\x94}\x94(\x8c\x04type\x94\x8c\x10ImageUrlArtifact\x94\x8c\x0bmodule_name\x94\x8c%griptape.artifacts.image_url_artifact\x94\x8c\x02id\x94\x8c 19b27f1d0b5544988eb7904348f56119\x94\x8c\treference\x94N\x8c\x04meta\x94}\x94\x8c\x10source_image_url\x94\x8cjhttp://localhost:8124/workspace/static_files/inpainting_template_RescaleImage_1_rescaled.JPEG?t=1766206172\x94s\x8c\x04name\x94h\n\x8c\x16encoding_error_handler\x94\x8c\x06strict\x94\x8c\x08encoding\x94\x8c\x05utf-8\x94\x8c\x05value\x94\x8crhttp://localhost:8124/workspace/static_files/Flux2-ReplaceafacewithInpainting_PaintMask_temp_mask.png?t=1766223861\x94ub.'), 'a7d7dbd2-48d2-4e5a-b477-df506b558cea': pickle.loads(b'\x80\x04\x95\x90\x01\x00\x00\x00\x00\x00\x00\x8c%griptape.artifacts.image_url_artifact\x94\x8c\x10ImageUrlArtifact\x94\x93\x94)\x81\x94}\x94(\x8c\x04type\x94\x8c\x10ImageUrlArtifact\x94\x8c\x0bmodule_name\x94\x8c%griptape.artifacts.image_url_artifact\x94\x8c\x02id\x94\x8c 3fc957ebae7046dc848e5f1e709a1503\x94\x8c\treference\x94N\x8c\x04meta\x94}\x94\x8c\x04name\x94h\n\x8c\x16encoding_error_handler\x94\x8c\x06strict\x94\x8c\x08encoding\x94\x8c\x05utf-8\x94\x8c\x05value\x94\x8cshttp://localhost:8124/workspace/static_files/Flux2-ReplaceafacewithInpainting_InvertImage_inverted.png?t=1766223861\x94ub.'), 'f3fb4a2f-e38f-4ded-8d45-588ab60ebcb6': pickle.loads(b'\x80\x04\x95\x0e\x03\x00\x00\x00\x00\x00\x00X\x07\x03\x00\x00# Flux 2 - Replace part of an Image\n\nThis workflow demonstrates using a mask to replace part of an image with Black Forest Labs Flux 2 model.\n\nThis technique is called "inpainting" and is very useful for providing a specific location to a model for updating.\n\nTo demonstrate the technique, we\'ll get an image from the Public Digital Image Archive, paint a mask over a particular area, and replace that area with another image.\n\n## Video Tutorial\n\n<iframe width="560" height="315" src="https://www.youtube.com/embed/rZI9rPsAPsA?si=Fo6TtKLhhnoZelcq" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>\x94.'), '8089595d-74e9-4874-b0b9-629fe9c101db': pickle.loads(b'\x80\x04\x95~\x00\x00\x00\x00\x00\x00\x00\x8czhttps://images.pdimagearchive.org/collections/rogues-a-study-of-characters-samuel-g-szabo/rogues-samuel-g-szabo-00017.jpeg\x94.'), 'cad13c44-cfaf-4685-9287-a4792db2c3c2': pickle.loads(b'\x80\x04\x95\x80\x00\x00\x00\x00\x00\x00\x00\x8c|Get an image from the [Public Domain Image Archive](https://pdimagearchive.org/images/83f00ea0-3c8f-4a3d-83a7-d89324d44160/)\x94.'), '0fcd4a20-cd7b-4822-b18c-5f3b65c1b024': pickle.loads(b"\x80\x04\x95\x88\x00\x00\x00\x00\x00\x00\x00\x8c\x84Rescale the image using the new width and height.\n\n_Note: we're using a `fit_mode` of `fit` to make sure we don't distort the image_\x94."), '01357f01-c394-4ce3-babb-b810e9fb8314': pickle.loads(b"\x80\x04\x95\xfd\x00\x00\x00\x00\x00\x00\x00\x8c\xf9## Paint Mask Node\n\nNow we'll paint a mask in the image where we want to **inpaint** a new face.\n\n1. Hover over the input image\n2. Click the _mask_ icon\n3. In the **Paint Mask Editor** choose the **Eraser** and erase part of the image.\n4. Click Save\x94."), '38c0559d-3f52-4a20-a44f-e23d8f21b675': pickle.loads(b'\x80\x04\x95\x04\x00\x00\x00\x00\x00\x00\x00\x8c\x00\x94.'), 'eb964b12-f780-47d7-a538-36b3da8b4939': pickle.loads(b'\x80\x04K\x00.'), '92316927-1574-4e30-9537-484040abb786': pickle.loads(b"\x80\x04\x95\x04\x00\x00\x00\x00\x00\x00\x00M'\x03."), '28c9921a-6a47-4ca0-8f2e-55eb3109aeb8': pickle.loads(b'\x80\x04\x95\x04\x00\x00\x00\x00\x00\x00\x00M\x80\x04.'), 'c7d7f482-0262-4621-a14d-37a04c9d2839': pickle.loads(b'\x80\x04\x95\x07\x00\x00\x00\x00\x00\x00\x00\x8c\x030:0\x94.'), '01b10fde-63fb-45fd-9643-a504da5a8409': pickle.loads(b'\x80\x04\x95\x0b\x00\x00\x00\x00\x00\x00\x00\x8c\x07269:384\x94.'), '2683a484-a10f-4bc5-ae3b-cf6e5055d7dd': pickle.loads(b'\x80\x04\x95\n\x00\x00\x00\x00\x00\x00\x00G\x00\x00\x00\x00\x00\x00\x00\x00.'), '49535ab6-a668-4431-8b94-5960705472d3': pickle.loads(b'\x80\x04\x95\n\x00\x00\x00\x00\x00\x00\x00G?\xe6j\xaa\xaa\xaa\xaa\xab.'), 'c6472d0b-8ac9-470b-b408-d77a7a74f589': pickle.loads(b'\x80\x04\x95\x0b\x00\x00\x00\x00\x00\x00\x00\x8c\x07UNKNOWN\x94.'), '1eaec276-422d-487f-9b0d-f909aa8b7251': pickle.loads(b'\x80\x04\x95\x07\x00\x00\x00\x00\x00\x00\x00\x8c\x03RGB\x94.'), 'a50c0ee9-8b9e-45a9-b661-6ad8dabf027b': pickle.loads(b'\x80\x04K\x03.'), '74302894-8f59-49a9-9b35-b3f2131d4920': pickle.loads(b'\x80\x04\x95\x08\x00\x00\x00\x00\x00\x00\x00\x8c\x04JPEG\x94.'), 'b866fde8-e70a-444b-bd59-afe895b31f29': pickle.loads(b'\x80\x04\x95\x14\x00\x00\x00\x00\x00\x00\x00\x8c\x10width and height\x94.'), '16513ca8-ebd6-456f-ae8e-9d3a00fff699': pickle.loads(b'\x80\x04\x95\x04\x00\x00\x00\x00\x00\x00\x00M\xe8\x03.'), '9b33289c-e052-4feb-9811-aba66916d7bc': pickle.loads(b'\x80\x04Kd.'), '05da11da-0cd0-449c-b7b8-8d69e0941b2f': pickle.loads(b'\x80\x04\x95\x04\x00\x00\x00\x00\x00\x00\x00M \x03.'), '9ea82522-959b-4cf4-9a17-82a7d736039c': pickle.loads(b'\x80\x04\x95\x07\x00\x00\x00\x00\x00\x00\x00\x8c\x03fit\x94.'), '411397d1-be87-47fc-9294-172bc5064251': pickle.loads(b'\x80\x04\x95\x0b\x00\x00\x00\x00\x00\x00\x00\x8c\x07#000000\x94.'), '60951081-0403-40b6-9397-e2c89f0e994f': pickle.loads(b'\x80\x04\x95\x0b\x00\x00\x00\x00\x00\x00\x00\x8c\x07lanczos\x94.'), '0837dd64-222c-4804-8e25-0af34d31a6e5': pickle.loads(b'\x80\x04\x95\x08\x00\x00\x00\x00\x00\x00\x00\x8c\x04auto\x94.'), '55699d51-317e-49c0-bbf3-6626b82f77db': pickle.loads(b'\x80\x04\x95\x06\x00\x00\x00\x00\x00\x00\x00\x8c\x0295\x94.'), '9e798c3b-22e3-40da-8044-bffee2c29526': pickle.loads(b'\x80\x04\x95\x87\x01\x00\x00\x00\x00\x00\x00\x8c%griptape.artifacts.image_url_artifact\x94\x8c\x10ImageUrlArtifact\x94\x93\x94)\x81\x94}\x94(\x8c\x04type\x94\x8c\x10ImageUrlArtifact\x94\x8c\x0bmodule_name\x94\x8c%griptape.artifacts.image_url_artifact\x94\x8c\x02id\x94\x8c 6ea20f8adbef488180439efacb1dab99\x94\x8c\treference\x94N\x8c\x04meta\x94}\x94\x8c\x04name\x94h\n\x8c\x16encoding_error_handler\x94\x8c\x06strict\x94\x8c\x08encoding\x94\x8c\x05utf-8\x94\x8c\x05value\x94\x8cjhttp://localhost:8124/workspace/static_files/inpainting_template_RescaleImage_1_rescaled.JPEG?t=1766206172\x94ub.'), 'fd5dc0ad-89f5-4167-b1f3-fc67e684f022': pickle.loads(b'\x80\x04\x95\xf6\x00\x00\x00\x00\x00\x00\x00\x8c\xf2Detected image format: JPEG\nProcessing image: 807x1152, mode: RGB, format: JPEG\n[Processing image rescaling..]\n[Started image processing..]\nimage rescaling\nSuccessfully processed image with suffix: _rescaled.jpeg\n[Finished image processing.]\n\x94.'), '73a33740-baf9-43e9-be72-87b72889beb6': pickle.loads(b"\x80\x04\x95\xd5\x00\x00\x00\x00\x00\x00\x00\x8c\xd1The Flux 2 Image Generation node requires width and height to be divisible by `16`. \n\nSo we'll use the **Image Details** node, some math, and a **Rescale Image** node to generate the image at the correct size.\x94."), '53ccde71-17ce-4143-a3a9-b081ff010948': pickle.loads(b'\x80\x04\x95\x12\x00\x00\x00\x00\x00\x00\x00\x8c\x0eround(a/b) * b\x94.'), '4bfe7047-f8c8-42bf-b3f4-2d21a02b8f1e': pickle.loads(b'\x80\x04K\x10.'), 'c7327df9-0dd9-4264-b5e7-f028dd42cb56': pickle.loads(b'\x80\x04K\x02.'), '06a31bd8-6961-4948-bd03-25d218d5d017': pickle.loads(b'\x80\x04\x95\x07\x00\x00\x00\x00\x00\x00\x00\x8c\x03int\x94.'), '2fdc9975-8022-457f-875a-a312ef9dfb08': pickle.loads(b'\x80\x04K\x06.'), '8393ae29-a34a-4f05-ae7c-4da59b2864bf': pickle.loads(b'\x80\x04\x95w\x00\x00\x00\x00\x00\x00\x00\x8csThe model will require the area you want to mask to be white. To do this we can just use the **Invert Image** node.\x94.'), 'c1dbcd6b-5707-4de0-b1a8-4e6ba2cff293': pickle.loads(b'\x80\x04\x95\x16\x00\x00\x00\x00\x00\x00\x00\x8c\x12Review the results\x94.'), '7b6e9138-2bd0-46b0-a258-d98b758b19f1': pickle.loads(b'\x80\x04\x95\x93\x00\x00\x00\x00\x00\x00\x00\x8c\x8fGenerate the image using **flux-2-max**.\n\nThe prompt should include information about what input to use as the mask, and what image to replace.\x94.'), 'af334de0-c430-4e05-a02f-a5affb62a0cc': pickle.loads(b'\x80\x04\x95\x93\x00\x00\x00\x00\x00\x00\x00\x8c\x8fTo provide an image to replace, use the **Webcam** node to take a screenshot of your face, or use a **Load Image** node and connect it instead.\x94.'), 'a3385ddd-8e55-4917-bc03-40916edf159b': pickle.loads(b'\x80\x04\x95\x0e\x00\x00\x00\x00\x00\x00\x00\x8c\nflux-2-max\x94.'), '614439d0-8a59-413c-b30e-933f2e2b617f': pickle.loads(b'\x80\x04\x95\xb2\x00\x00\x00\x00\x00\x00\x00\x8c\xaeInpaint the person from Image 3 into Image 1 using the mask from Image 2\nMatch the texture, art style, color, tone, hue, contrast, brightness, levels, and clothing of Image 1\x94.'), '692a5330-e3d7-4e0c-98c2-9e1478c96992': pickle.loads(b'\x80\x04\x95\x93\x02\x00\x00\x00\x00\x00\x00]\x94(\x8c%griptape.artifacts.image_url_artifact\x94\x8c\x10ImageUrlArtifact\x94\x93\x94)\x81\x94}\x94(\x8c\x04type\x94\x8c\x10ImageUrlArtifact\x94\x8c\x0bmodule_name\x94\x8c%griptape.artifacts.image_url_artifact\x94\x8c\x02id\x94\x8c 6ea20f8adbef488180439efacb1dab99\x94\x8c\treference\x94N\x8c\x04meta\x94}\x94\x8c\x04name\x94h\x0b\x8c\x16encoding_error_handler\x94\x8c\x06strict\x94\x8c\x08encoding\x94\x8c\x05utf-8\x94\x8c\x05value\x94\x8cjhttp://localhost:8124/workspace/static_files/inpainting_template_RescaleImage_1_rescaled.JPEG?t=1766206172\x94ubh\x03)\x81\x94}\x94(h\x06\x8c\x10ImageUrlArtifact\x94h\x08\x8c%griptape.artifacts.image_url_artifact\x94h\n\x8c 3fc957ebae7046dc848e5f1e709a1503\x94h\x0cNh\r}\x94h\x0fh\x1ah\x10\x8c\x06strict\x94h\x12\x8c\x05utf-8\x94h\x14\x8cshttp://localhost:8124/workspace/static_files/Flux2-ReplaceafacewithInpainting_InvertImage_inverted.png?t=1766223861\x94ub]\x94e.'), '46f21cc3-ab77-49d2-a767-ffa82c1e1aef': pickle.loads(b'\x80\x04]\x94.'), '6225299b-67bc-40a9-abb8-cd253d5da04f': pickle.loads(b'\x80\x04K\x01.'), '187d87db-1130-475b-9d65-2bda12fed201': pickle.loads(b'\x80\x04\x95\x08\x00\x00\x00\x00\x00\x00\x00\x8c\x04jpeg\x94.'), '835931c9-986a-4ac1-bd97-c971de3a0c9a': pickle.loads(b'\x80\x04\x95\x15\x00\x00\x00\x00\x00\x00\x00\x8c\x11least restrictive\x94.'), 'f0bd7874-da88-4bbe-b722-f534c85735ed': pickle.loads(b'\x80\x04K2.'), '54eb7ef2-b418-4987-ba08-cd8394435d56': pickle.loads(b'\x80\x04\x95\n\x00\x00\x00\x00\x00\x00\x00G@\x12\x00\x00\x00\x00\x00\x00.')}

'# Create the Flow, then do work within it as context.'

flow0_name = GriptapeNodes.handle_request(CreateFlowRequest(parent_flow_name=None, flow_name='ControlFlow_1', set_as_new_context=False, metadata={})).flow_name

with GriptapeNodes.ContextManager().flow(flow0_name):
    node0_name = GriptapeNodes.handle_request(CreateNodeRequest(node_type='LoadImage', specific_library_name='Griptape Nodes Library', node_name='Load Image', metadata={'position': {'x': 132.1129308185267, 'y': 259.5337121055135}, 'tempId': 'placing-1766163585757-tvorp', 'library_node_metadata': NodeMetadata(category='image', description='Loads an image from disk', display_name='Load Image', tags=None, icon='image-up', color=None, group='Input/Output', deprecation=None, is_node_group=None), 'library': 'Griptape Nodes Library', 'node_type': 'LoadImage', 'showaddparameter': False, 'size': {'width': 604, 'height': 640}, 'category': 'image'}, resolution='resolved', initial_setup=True)).node_name
    with GriptapeNodes.ContextManager().node(node0_name):
        GriptapeNodes.handle_request(AlterParameterDetailsRequest(parameter_name='image', settable=False, initial_setup=True))
        GriptapeNodes.handle_request(AlterParameterDetailsRequest(parameter_name='path', settable=False, initial_setup=True))
    node1_name = GriptapeNodes.handle_request(CreateNodeRequest(node_type='InvertImage', specific_library_name='Griptape Nodes Library', node_name='Invert Image', metadata={'position': {'x': 4312.196985799474, 'y': 337.3959362470698}, 'tempId': 'placing-1766163794547-fajiqm', 'library_node_metadata': NodeMetadata(category='image', description='Invert a full image (creates a negative).', display_name='Invert Image', tags=None, icon=None, color=None, group='edit', deprecation=None, is_node_group=None), 'library': 'Griptape Nodes Library', 'node_type': 'InvertImage', 'showaddparameter': False, 'size': {'width': 600, 'height': 544}, 'category': 'image'}, initial_setup=True)).node_name
    node2_name = GriptapeNodes.handle_request(CreateNodeRequest(node_type='Note', specific_library_name='Griptape Nodes Library', node_name='Workflow Description', metadata={'position': {'x': -617.6213590658149, 'y': -773.552661767276}, 'tempId': 'placing-1766172442198-lnzeb9', 'library_node_metadata': NodeMetadata(category='misc', description='Create a note node to provide helpful context in your workflow', display_name='Note', tags=None, icon='notepad-text', color=None, group='create', deprecation=None, is_node_group=None), 'library': 'Griptape Nodes Library', 'node_type': 'Note', 'showaddparameter': False, 'size': {'width': 686, 'height': 755}, 'category': 'misc'}, initial_setup=True)).node_name
    node3_name = GriptapeNodes.handle_request(CreateNodeRequest(node_type='StartFlow', specific_library_name='Griptape Nodes Library', node_name='Start Flow', metadata={'position': {'x': -617.6213590658149, 'y': 259.5337121055135}, 'tempId': 'placing-1766172731607-uuljzo', 'library_node_metadata': NodeMetadata(category='workflows', description='Define the start of a workflow and pass parameters into the flow', display_name='Start Flow', tags=None, icon=None, color=None, group='create', deprecation=None, is_node_group=None), 'library': 'Griptape Nodes Library', 'node_type': 'StartFlow', 'showaddparameter': True, 'size': {'width': 600, 'height': 314}, 'category': 'workflows'}, resolution='resolved', initial_setup=True)).node_name
    with GriptapeNodes.ContextManager().node(node3_name):
        GriptapeNodes.handle_request(AddParameterToNodeRequest(parameter_name='input_url', default_value='https://images.pdimagearchive.org/collections/rogues-a-study-of-characters-samuel-g-szabo/rogues-samuel-g-szabo-00017.jpeg', tooltip='Enter text/string for input_url.', type='str', input_types=['str'], output_type='str', ui_options={'is_custom': True, 'is_user_added': True}, mode_allowed_input=False, mode_allowed_property=True, mode_allowed_output=True, initial_setup=True))
    node4_name = GriptapeNodes.handle_request(CreateNodeRequest(node_type='Note', specific_library_name='Griptape Nodes Library', node_name='Step 1', metadata={'position': {'x': -617.6213590658149, 'y': 20.308852128403174}, 'tempId': 'placing-1766172797527-apyqbo', 'library_node_metadata': NodeMetadata(category='misc', description='Create a note node to provide helpful context in your workflow', display_name='Note', tags=None, icon='notepad-text', color=None, group='create', deprecation=None, is_node_group=None), 'library': 'Griptape Nodes Library', 'node_type': 'Note', 'showaddparameter': False, 'size': {'width': 600, 'height': 192}, 'category': 'misc'}, initial_setup=True)).node_name
    node5_name = GriptapeNodes.handle_request(CreateNodeRequest(node_type='Note', specific_library_name='Griptape Nodes Library', node_name='Step 3', metadata={'position': {'x': 2714.859505294859, 'y': 588.0337121055135}, 'tempId': 'placing-1766172797527-apyqbo', 'library_node_metadata': NodeMetadata(category='misc', description='Create a note node to provide helpful context in your workflow', display_name='Note', tags=None, icon='notepad-text', color=None, group='create', deprecation=None, is_node_group=None), 'library': 'Griptape Nodes Library', 'node_type': 'Note', 'showaddparameter': False, 'size': {'width': 600, 'height': 157}, 'category': 'misc'}, initial_setup=True)).node_name
    node6_name = GriptapeNodes.handle_request(CreateNodeRequest(node_type='Note', specific_library_name='Griptape Nodes Library', node_name='Step 4', metadata={'position': {'x': 3597.63776993708, 'y': 47.8421783721635}, 'tempId': 'placing-1766172797527-apyqbo', 'library_node_metadata': NodeMetadata(category='misc', description='Create a note node to provide helpful context in your workflow', display_name='Note', tags=None, icon='notepad-text', color=None, group='create', deprecation=None, is_node_group=None), 'library': 'Griptape Nodes Library', 'node_type': 'Note', 'showaddparameter': False, 'size': {'width': 600, 'height': 278}, 'category': 'misc'}, initial_setup=True)).node_name
    node7_name = GriptapeNodes.handle_request(CreateNodeRequest(node_type='EndFlow', specific_library_name='Griptape Nodes Library', node_name='End Flow', metadata={'position': {'x': 6732.806736277839, 'y': 325.8421783721635}, 'tempId': 'placing-1766174695668-giuybt', 'library_node_metadata': NodeMetadata(category='workflows', description='Define the end of a workflow and return parameters from the flow', display_name='End Flow', tags=None, icon=None, color=None, group='create', deprecation=None, is_node_group=None), 'library': 'Griptape Nodes Library', 'node_type': 'EndFlow', 'showaddparameter': True, 'size': {'width': 1053, 'height': 1587}, 'category': 'workflows'}, initial_setup=True)).node_name
    with GriptapeNodes.ContextManager().node(node7_name):
        GriptapeNodes.handle_request(AddParameterToNodeRequest(parameter_name='image_url', default_value='', tooltip='New parameter', type='ImageUrlArtifact', input_types=['ImageUrlArtifact'], output_type='ImageUrlArtifact', ui_options={'is_full_width': True, 'pulse_on_run': True, 'is_custom': True, 'is_user_added': True}, mode_allowed_input=True, mode_allowed_property=True, mode_allowed_output=True, parent_container_name='', initial_setup=True))
    node8_name = GriptapeNodes.handle_request(CreateNodeRequest(node_type='ImageDetails', specific_library_name='Griptape Nodes Library', node_name='Image Details', metadata={'position': {'x': 970.45085383902, 'y': 834.6207556461201}, 'tempId': 'placing-1766190560199-slwyv8', 'library_node_metadata': NodeMetadata(category='image', description='Extract detailed information from an image including dimensions, aspect ratio, color space, and format', display_name='Image Details', tags=None, icon='info', color=None, group='describe', deprecation=None, is_node_group=None), 'library': 'Griptape Nodes Library', 'node_type': 'ImageDetails', 'showaddparameter': False, 'size': {'width': 600, 'height': 581}, 'category': 'image'}, resolution='resolved', initial_setup=True)).node_name
    node9_name = GriptapeNodes.handle_request(CreateNodeRequest(node_type='RescaleImage', specific_library_name='Griptape Nodes Library', node_name='Rescale Image_1', metadata={'position': {'x': 2714.859505294859, 'y': 834.6207556461201}, 'tempId': 'placing-1766190612887-dckcmb', 'library_node_metadata': NodeMetadata(category='image', description='Rescale images with separate parameters for target size (pixels) and percentage scale, plus resample filter options', display_name='Rescale Image', tags=None, icon='image-upscale', color=None, group='edit', deprecation=None, is_node_group=None), 'library': 'Griptape Nodes Library', 'node_type': 'RescaleImage', 'showaddparameter': False, 'size': {'width': 600, 'height': 900}, 'category': 'image'}, initial_setup=True)).node_name
    with GriptapeNodes.ContextManager().node(node9_name):
        GriptapeNodes.handle_request(AlterParameterDetailsRequest(parameter_name='percentage_scale', ui_options={'slider': {'min_val': 1, 'max_val': 500}, 'hide': True}, initial_setup=True))
        GriptapeNodes.handle_request(AlterParameterDetailsRequest(parameter_name='target_width', ui_options={'slider': {'min_val': 1, 'max_val': 8000}, 'hide_label': False, 'hide_property': False, 'hide': False}, initial_setup=True))
        GriptapeNodes.handle_request(AlterParameterDetailsRequest(parameter_name='target_height', ui_options={'slider': {'min_val': 1, 'max_val': 8000}, 'hide_label': False, 'hide_property': False, 'hide': False}, initial_setup=True))
        GriptapeNodes.handle_request(AlterParameterDetailsRequest(parameter_name='fit_mode', ui_options={'simple_dropdown': ['fit', 'fill', 'stretch'], 'show_search': True, 'search_filter': '', 'hide': False}, initial_setup=True))
    node10_name = GriptapeNodes.handle_request(CreateNodeRequest(node_type='Note', specific_library_name='Griptape Nodes Library', node_name='Step 2', metadata={'position': {'x': 970.45085383902, 'y': 573.5337121055135}, 'tempId': 'placing-1766172797527-apyqbo', 'library_node_metadata': NodeMetadata(category='misc', description='Create a note node to provide helpful context in your workflow', display_name='Note', tags=None, icon='notepad-text', color=None, group='create', deprecation=None, is_node_group=None), 'library': 'Griptape Nodes Library', 'node_type': 'Note', 'showaddparameter': False, 'size': {'width': 600, 'height': 186}, 'category': 'misc'}, initial_setup=True)).node_name
    node11_name = GriptapeNodes.handle_request(CreateNodeRequest(node_type='TextInput', specific_library_name='Griptape Nodes Library', node_name='Rounding function', metadata={'position': {'x': 970.45085383902, 'y': 1517.185056131189}, 'tempId': 'placing-1766190587182-pcl8b4', 'library_node_metadata': NodeMetadata(category='text', description='TextInput node', display_name='Text Input', tags=None, icon='text-cursor', color=None, group='create', deprecation=None, is_node_group=None), 'library': 'Griptape Nodes Library', 'node_type': 'TextInput', 'showaddparameter': False, 'size': {'width': 600, 'height': 243}, 'category': 'text'}, resolution='resolved', initial_setup=True)).node_name
    node12_name = GriptapeNodes.handle_request(CreateNodeRequest(node_type='IntegerInput', specific_library_name='Griptape Nodes Library', node_name='Divisible by..', metadata={'position': {'x': 970.45085383902, 'y': 1789.8931460401946}, 'tempId': 'placing-1766178986516-f4m0db', 'library_node_metadata': NodeMetadata(category='number', description='Create an integer value', display_name='Integer Input', tags=None, icon=None, color=None, group='create', deprecation=None, is_node_group=None), 'library': 'Griptape Nodes Library', 'node_type': 'IntegerInput', 'showaddparameter': False, 'size': {'width': 600, 'height': 286}, 'category': 'number'}, resolution='resolved', initial_setup=True)).node_name
    node13_name = GriptapeNodes.handle_request(CreateNodeRequest(node_type='MathExpression', specific_library_name='Griptape Nodes Library', node_name='Calculate Width', metadata={'position': {'x': 1976.3859264792384, 'y': 1391.6890123127607}, 'tempId': 'placing-1766178967820-3ofyyqn', 'library_node_metadata': NodeMetadata(category='number', description='Evaluate mathematical expressions with variable inputs (a-h) and math functions', display_name='Math Expression', tags=None, icon='function-square', color=None, group='tasks', deprecation=None, is_node_group=None), 'library': 'Griptape Nodes Library', 'node_type': 'MathExpression', 'showaddparameter': False, 'size': {'width': 600, 'height': 302}, 'category': 'number'}, resolution='resolved', initial_setup=True)).node_name
    with GriptapeNodes.ContextManager().node(node13_name):
        GriptapeNodes.handle_request(AlterParameterDetailsRequest(parameter_name='output_type', ui_options={'simple_dropdown': ['float', 'int'], 'show_search': True, 'search_filter': '', 'hide': True}, initial_setup=True))
        GriptapeNodes.handle_request(AlterParameterDetailsRequest(parameter_name='precision', ui_options={'hide_label': False, 'hide_property': False, 'hide': True}, initial_setup=True))
    node14_name = GriptapeNodes.handle_request(CreateNodeRequest(node_type='MathExpression', specific_library_name='Griptape Nodes Library', node_name='Calculate Height', metadata={'position': {'x': 1976.3859264792384, 'y': 1760.185056131189}, 'tempId': 'placing-1766178967820-3ofyyqn', 'library_node_metadata': NodeMetadata(category='number', description='Evaluate mathematical expressions with variable inputs (a-h) and math functions', display_name='Math Expression', tags=None, icon='function-square', color=None, group='tasks', deprecation=None, is_node_group=None), 'library': 'Griptape Nodes Library', 'node_type': 'MathExpression', 'showaddparameter': False, 'size': {'width': 601, 'height': 374}, 'category': 'number'}, initial_setup=True)).node_name
    with GriptapeNodes.ContextManager().node(node14_name):
        GriptapeNodes.handle_request(AlterParameterDetailsRequest(parameter_name='output_type', ui_options={'simple_dropdown': ['float', 'int'], 'show_search': True, 'search_filter': '', 'hide': True}, initial_setup=True))
        GriptapeNodes.handle_request(AlterParameterDetailsRequest(parameter_name='precision', ui_options={'hide_label': False, 'hide_property': False, 'hide': True}, initial_setup=True))
    node15_name = GriptapeNodes.handle_request(CreateNodeRequest(node_type='Note', specific_library_name='Griptape Nodes Library', node_name='Step 5', metadata={'position': {'x': 4312.196985799474, 'y': 47.8421783721635}, 'tempId': 'placing-1766172797527-apyqbo', 'library_node_metadata': NodeMetadata(category='misc', description='Create a note node to provide helpful context in your workflow', display_name='Note', tags=None, icon='notepad-text', color=None, group='create', deprecation=None, is_node_group=None), 'library': 'Griptape Nodes Library', 'node_type': 'Note', 'showaddparameter': False, 'size': {'width': 602, 'height': 242}, 'category': 'misc'}, initial_setup=True)).node_name
    node16_name = GriptapeNodes.handle_request(CreateNodeRequest(node_type='Note', specific_library_name='Griptape Nodes Library', node_name='Step 9', metadata={'position': {'x': 6732.806736277839, 'y': 47.8421783721635}, 'tempId': 'placing-1766172797527-apyqbo', 'library_node_metadata': NodeMetadata(category='misc', description='Create a note node to provide helpful context in your workflow', display_name='Note', tags=None, icon='notepad-text', color=None, group='create', deprecation=None, is_node_group=None), 'library': 'Griptape Nodes Library', 'node_type': 'Note', 'showaddparameter': False, 'size': {'width': 600, 'height': 185}, 'category': 'misc'}, initial_setup=True)).node_name
    node17_name = GriptapeNodes.handle_request(CreateNodeRequest(node_type='Note', specific_library_name='Griptape Nodes Library', node_name='Step 7', metadata={'position': {'x': 5828.9707855127435, 'y': 47.8421783721635}, 'tempId': 'placing-1766172797527-apyqbo', 'library_node_metadata': NodeMetadata(category='misc', description='Create a note node to provide helpful context in your workflow', display_name='Note', tags=None, icon='notepad-text', color=None, group='create', deprecation=None, is_node_group=None), 'library': 'Griptape Nodes Library', 'node_type': 'Note', 'showaddparameter': False, 'size': {'width': 601, 'height': 235}, 'category': 'misc'}, initial_setup=True)).node_name
    node18_name = GriptapeNodes.handle_request(CreateNodeRequest(node_type='Note', specific_library_name='Griptape Nodes Library', node_name='Step 6', metadata={'position': {'x': 5047.32947017138, 'y': 925.8959362470698}, 'tempId': 'placing-1766172797527-apyqbo', 'library_node_metadata': NodeMetadata(category='misc', description='Create a note node to provide helpful context in your workflow', display_name='Note', tags=None, icon='notepad-text', color=None, group='create', deprecation=None, is_node_group=None), 'library': 'Griptape Nodes Library', 'node_type': 'Note', 'showaddparameter': False, 'size': {'width': 600, 'height': 156}, 'category': 'misc'}, initial_setup=True)).node_name
    node19_name = GriptapeNodes.handle_request(CreateNodeRequest(node_type='Flux2ImageGeneration', specific_library_name='Griptape Nodes Library', node_name='FLUX.2 Image Generation', metadata={'library_node_metadata': NodeMetadata(category='image', description='Generate images using FLUX.2 models via Griptape model proxy', display_name='FLUX.2 Image Generation', tags=None, icon='Zap', color=None, group='create', deprecation=None, is_node_group=None), 'library': 'Griptape Nodes Library', 'node_type': 'Flux2ImageGeneration', 'position': {'x': 5828.9707855127435, 'y': 337.3959362470698}, 'size': {'width': 607, 'height': 1333}, 'showaddparameter': False, 'category': 'image'}, initial_setup=True)).node_name
    with GriptapeNodes.ContextManager().node(node19_name):
        GriptapeNodes.handle_request(AddParameterToNodeRequest(parameter_name='input_images_ParameterListUniqueParamID_1f4816b3cfbd4aceb66a5001384790b0', default_value=[], tooltip='Optional input images for image-to-image generation (supports up to 20MB or 20 megapixels)', type='ImageArtifact', input_types=['ImageArtifact', 'ImageUrlArtifact', 'str', 'list', 'list[ImageArtifact]', 'list[ImageUrlArtifact]'], output_type='ImageArtifact', ui_options={'expander': True, 'display_name': 'Input Images'}, mode_allowed_input=True, mode_allowed_property=True, mode_allowed_output=False, is_user_defined=True, settable=True, parent_container_name='input_images', initial_setup=True))
        GriptapeNodes.handle_request(AddParameterToNodeRequest(parameter_name='input_images_ParameterListUniqueParamID_38cf37a75b3f471aa673db1999cc930e', default_value=[], tooltip='Optional input images for image-to-image generation (supports up to 20MB or 20 megapixels)', type='ImageArtifact', input_types=['ImageArtifact', 'ImageUrlArtifact', 'str', 'list', 'list[ImageArtifact]', 'list[ImageUrlArtifact]'], output_type='ImageArtifact', ui_options={'expander': True, 'display_name': 'Input Images'}, mode_allowed_input=True, mode_allowed_property=True, mode_allowed_output=False, is_user_defined=True, settable=True, parent_container_name='input_images', initial_setup=True))
        GriptapeNodes.handle_request(AddParameterToNodeRequest(parameter_name='input_images_ParameterListUniqueParamID_4e3346d3ccf642e38b9e207cd520a545', default_value=[], tooltip='Optional input images for image-to-image generation (supports up to 20MB or 20 megapixels)', type='ImageArtifact', input_types=['ImageArtifact', 'ImageUrlArtifact', 'str', 'list', 'list[ImageArtifact]', 'list[ImageUrlArtifact]'], output_type='ImageArtifact', ui_options={'expander': True, 'display_name': 'Input Images'}, mode_allowed_input=True, mode_allowed_property=True, mode_allowed_output=False, is_user_defined=True, settable=True, parent_container_name='input_images', initial_setup=True))
    node20_name = GriptapeNodes.handle_request(CreateNodeRequest(node_type='PaintMask', specific_library_name='Griptape Nodes Library', node_name='Paint Mask', metadata={'library_node_metadata': NodeMetadata(category='image', description='Paint a mask on an image.', display_name='Paint Mask', tags=None, icon=None, color=None, group='mask', deprecation=None, is_node_group=None), 'library': 'Griptape Nodes Library', 'node_type': 'PaintMask', 'position': {'x': 3597.63776993708, 'y': 337.3959362470698}, 'size': {'width': 600, 'height': 537}}, initial_setup=True)).node_name
    node21_name = GriptapeNodes.handle_request(CreateNodeRequest(node_type='Webcam', specific_library_name='Griptape Nodes Library', node_name='Webcam', metadata={'library_node_metadata': NodeMetadata(category='image', description="Capture an image using the device's camera", display_name='Webcam', tags=None, icon='webcam', color=None, group='create', deprecation=None, is_node_group=None), 'library': 'Griptape Nodes Library', 'node_type': 'Webcam', 'position': {'x': 5047.32947017138, 'y': 1097.4687236788404}, 'size': {'width': 600, 'height': 348}}, initial_setup=True)).node_name
    GriptapeNodes.handle_request(CreateConnectionRequest(source_node_name=node3_name, source_parameter_name='input_url', target_node_name=node0_name, target_parameter_name='image', initial_setup=True))
    GriptapeNodes.handle_request(CreateConnectionRequest(source_node_name=node12_name, source_parameter_name='integer', target_node_name=node13_name, target_parameter_name='b', initial_setup=True))
    GriptapeNodes.handle_request(CreateConnectionRequest(source_node_name=node12_name, source_parameter_name='integer', target_node_name=node14_name, target_parameter_name='b', initial_setup=True))
    GriptapeNodes.handle_request(CreateConnectionRequest(source_node_name=node0_name, source_parameter_name='image', target_node_name=node8_name, target_parameter_name='image', initial_setup=True))
    GriptapeNodes.handle_request(CreateConnectionRequest(source_node_name=node8_name, source_parameter_name='width', target_node_name=node13_name, target_parameter_name='a', initial_setup=True))
    GriptapeNodes.handle_request(CreateConnectionRequest(source_node_name=node8_name, source_parameter_name='height', target_node_name=node14_name, target_parameter_name='a', initial_setup=True))
    GriptapeNodes.handle_request(CreateConnectionRequest(source_node_name=node11_name, source_parameter_name='text', target_node_name=node13_name, target_parameter_name='expression', initial_setup=True))
    GriptapeNodes.handle_request(CreateConnectionRequest(source_node_name=node11_name, source_parameter_name='text', target_node_name=node14_name, target_parameter_name='expression', initial_setup=True))
    GriptapeNodes.handle_request(CreateConnectionRequest(source_node_name=node0_name, source_parameter_name='image', target_node_name=node9_name, target_parameter_name='input_image', initial_setup=True))
    GriptapeNodes.handle_request(CreateConnectionRequest(source_node_name=node13_name, source_parameter_name='result', target_node_name=node9_name, target_parameter_name='target_width', initial_setup=True))
    GriptapeNodes.handle_request(CreateConnectionRequest(source_node_name=node14_name, source_parameter_name='result', target_node_name=node9_name, target_parameter_name='target_height', initial_setup=True))
    GriptapeNodes.handle_request(CreateConnectionRequest(source_node_name=node9_name, source_parameter_name='target_width', target_node_name=node19_name, target_parameter_name='width', initial_setup=True))
    GriptapeNodes.handle_request(CreateConnectionRequest(source_node_name=node9_name, source_parameter_name='target_height', target_node_name=node19_name, target_parameter_name='height', initial_setup=True))
    GriptapeNodes.handle_request(CreateConnectionRequest(source_node_name=node19_name, source_parameter_name='image_url', target_node_name=node7_name, target_parameter_name='image_url', initial_setup=True))
    GriptapeNodes.handle_request(CreateConnectionRequest(source_node_name=node9_name, source_parameter_name='output', target_node_name=node20_name, target_parameter_name='input_image', initial_setup=True))
    GriptapeNodes.handle_request(CreateConnectionRequest(source_node_name=node20_name, source_parameter_name='output_mask', target_node_name=node1_name, target_parameter_name='input_image', initial_setup=True))
    GriptapeNodes.handle_request(CreateConnectionRequest(source_node_name=node9_name, source_parameter_name='output', target_node_name=node19_name, target_parameter_name='input_images_ParameterListUniqueParamID_1f4816b3cfbd4aceb66a5001384790b0', initial_setup=True))
    GriptapeNodes.handle_request(CreateConnectionRequest(source_node_name=node1_name, source_parameter_name='output', target_node_name=node19_name, target_parameter_name='input_images_ParameterListUniqueParamID_38cf37a75b3f471aa673db1999cc930e', initial_setup=True))
    GriptapeNodes.handle_request(CreateConnectionRequest(source_node_name=node21_name, source_parameter_name='image', target_node_name=node19_name, target_parameter_name='input_images_ParameterListUniqueParamID_4e3346d3ccf642e38b9e207cd520a545', initial_setup=True))
    with GriptapeNodes.ContextManager().node(node0_name):
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='image', node_name=node0_name, value=top_level_unique_values_dict['d1a77361-2ab6-45e5-bc71-5c31271a0247'], initial_setup=True, is_output=False))
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='image', node_name=node0_name, value=top_level_unique_values_dict['d1a77361-2ab6-45e5-bc71-5c31271a0247'], initial_setup=True, is_output=True))
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='path', node_name=node0_name, value=top_level_unique_values_dict['8a96804a-8c1a-4bc1-a318-9626eaf8bc92'], initial_setup=True, is_output=False))
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='path', node_name=node0_name, value=top_level_unique_values_dict['8a96804a-8c1a-4bc1-a318-9626eaf8bc92'], initial_setup=True, is_output=True))
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='mask_channel', node_name=node0_name, value=top_level_unique_values_dict['493e595f-c33f-4968-a61f-55dd3f824d83'], initial_setup=True, is_output=False))
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='was_successful', node_name=node0_name, value=top_level_unique_values_dict['1cb12ffa-e2e9-438a-b70a-99a2fc1474df'], initial_setup=True, is_output=False))
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='was_successful', node_name=node0_name, value=top_level_unique_values_dict['1cb12ffa-e2e9-438a-b70a-99a2fc1474df'], initial_setup=True, is_output=True))
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='result_details', node_name=node0_name, value=top_level_unique_values_dict['5be08aed-832f-469b-8e9b-058bf3826859'], initial_setup=True, is_output=False))
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='result_details', node_name=node0_name, value=top_level_unique_values_dict['5be08aed-832f-469b-8e9b-058bf3826859'], initial_setup=True, is_output=True))
    with GriptapeNodes.ContextManager().node(node1_name):
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='input_image', node_name=node1_name, value=top_level_unique_values_dict['88b4112b-7778-476f-b8c6-382cd0a15efa'], initial_setup=True, is_output=False))
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='output', node_name=node1_name, value=top_level_unique_values_dict['a7d7dbd2-48d2-4e5a-b477-df506b558cea'], initial_setup=True, is_output=False))
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='output', node_name=node1_name, value=top_level_unique_values_dict['a7d7dbd2-48d2-4e5a-b477-df506b558cea'], initial_setup=True, is_output=True))
    with GriptapeNodes.ContextManager().node(node2_name):
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='note', node_name=node2_name, value=top_level_unique_values_dict['f3fb4a2f-e38f-4ded-8d45-588ab60ebcb6'], initial_setup=True, is_output=False))
    with GriptapeNodes.ContextManager().node(node3_name):
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='input_url', node_name=node3_name, value=top_level_unique_values_dict['8089595d-74e9-4874-b0b9-629fe9c101db'], initial_setup=True, is_output=False))
    with GriptapeNodes.ContextManager().node(node4_name):
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='note', node_name=node4_name, value=top_level_unique_values_dict['cad13c44-cfaf-4685-9287-a4792db2c3c2'], initial_setup=True, is_output=False))
    with GriptapeNodes.ContextManager().node(node5_name):
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='note', node_name=node5_name, value=top_level_unique_values_dict['0fcd4a20-cd7b-4822-b18c-5f3b65c1b024'], initial_setup=True, is_output=False))
    with GriptapeNodes.ContextManager().node(node6_name):
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='note', node_name=node6_name, value=top_level_unique_values_dict['01357f01-c394-4ce3-babb-b810e9fb8314'], initial_setup=True, is_output=False))
    with GriptapeNodes.ContextManager().node(node7_name):
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='was_successful', node_name=node7_name, value=top_level_unique_values_dict['1cb12ffa-e2e9-438a-b70a-99a2fc1474df'], initial_setup=True, is_output=False))
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='image_url', node_name=node7_name, value=top_level_unique_values_dict['38c0559d-3f52-4a20-a44f-e23d8f21b675'], initial_setup=True, is_output=False))
    with GriptapeNodes.ContextManager().node(node8_name):
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='image', node_name=node8_name, value=top_level_unique_values_dict['d1a77361-2ab6-45e5-bc71-5c31271a0247'], initial_setup=True, is_output=False))
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='width', node_name=node8_name, value=top_level_unique_values_dict['eb964b12-f780-47d7-a538-36b3da8b4939'], initial_setup=True, is_output=False))
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='width', node_name=node8_name, value=top_level_unique_values_dict['92316927-1574-4e30-9537-484040abb786'], initial_setup=True, is_output=True))
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='height', node_name=node8_name, value=top_level_unique_values_dict['eb964b12-f780-47d7-a538-36b3da8b4939'], initial_setup=True, is_output=False))
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='height', node_name=node8_name, value=top_level_unique_values_dict['28c9921a-6a47-4ca0-8f2e-55eb3109aeb8'], initial_setup=True, is_output=True))
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='ratio_str', node_name=node8_name, value=top_level_unique_values_dict['c7d7f482-0262-4621-a14d-37a04c9d2839'], initial_setup=True, is_output=False))
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='ratio_str', node_name=node8_name, value=top_level_unique_values_dict['01b10fde-63fb-45fd-9643-a504da5a8409'], initial_setup=True, is_output=True))
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='ratio_decimal', node_name=node8_name, value=top_level_unique_values_dict['2683a484-a10f-4bc5-ae3b-cf6e5055d7dd'], initial_setup=True, is_output=False))
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='ratio_decimal', node_name=node8_name, value=top_level_unique_values_dict['49535ab6-a668-4431-8b94-5960705472d3'], initial_setup=True, is_output=True))
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='color_space', node_name=node8_name, value=top_level_unique_values_dict['c6472d0b-8ac9-470b-b408-d77a7a74f589'], initial_setup=True, is_output=False))
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='color_space', node_name=node8_name, value=top_level_unique_values_dict['1eaec276-422d-487f-9b0d-f909aa8b7251'], initial_setup=True, is_output=True))
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='channels', node_name=node8_name, value=top_level_unique_values_dict['eb964b12-f780-47d7-a538-36b3da8b4939'], initial_setup=True, is_output=False))
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='channels', node_name=node8_name, value=top_level_unique_values_dict['a50c0ee9-8b9e-45a9-b661-6ad8dabf027b'], initial_setup=True, is_output=True))
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='format', node_name=node8_name, value=top_level_unique_values_dict['c6472d0b-8ac9-470b-b408-d77a7a74f589'], initial_setup=True, is_output=False))
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='format', node_name=node8_name, value=top_level_unique_values_dict['74302894-8f59-49a9-9b35-b3f2131d4920'], initial_setup=True, is_output=True))
    with GriptapeNodes.ContextManager().node(node9_name):
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='input_image', node_name=node9_name, value=top_level_unique_values_dict['d1a77361-2ab6-45e5-bc71-5c31271a0247'], initial_setup=True, is_output=False))
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='resize_mode', node_name=node9_name, value=top_level_unique_values_dict['b866fde8-e70a-444b-bd59-afe895b31f29'], initial_setup=True, is_output=False))
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='target_size', node_name=node9_name, value=top_level_unique_values_dict['16513ca8-ebd6-456f-ae8e-9d3a00fff699'], initial_setup=True, is_output=False))
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='percentage_scale', node_name=node9_name, value=top_level_unique_values_dict['9b33289c-e052-4feb-9811-aba66916d7bc'], initial_setup=True, is_output=False))
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='target_width', node_name=node9_name, value=top_level_unique_values_dict['05da11da-0cd0-449c-b7b8-8d69e0941b2f'], initial_setup=True, is_output=False))
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='target_height', node_name=node9_name, value=top_level_unique_values_dict['28c9921a-6a47-4ca0-8f2e-55eb3109aeb8'], initial_setup=True, is_output=False))
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='fit_mode', node_name=node9_name, value=top_level_unique_values_dict['9ea82522-959b-4cf4-9a17-82a7d736039c'], initial_setup=True, is_output=False))
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='background_color', node_name=node9_name, value=top_level_unique_values_dict['411397d1-be87-47fc-9294-172bc5064251'], initial_setup=True, is_output=False))
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='resample_filter', node_name=node9_name, value=top_level_unique_values_dict['60951081-0403-40b6-9397-e2c89f0e994f'], initial_setup=True, is_output=False))
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='output_format', node_name=node9_name, value=top_level_unique_values_dict['0837dd64-222c-4804-8e25-0af34d31a6e5'], initial_setup=True, is_output=False))
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='quality', node_name=node9_name, value=top_level_unique_values_dict['55699d51-317e-49c0-bbf3-6626b82f77db'], initial_setup=True, is_output=False))
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='output', node_name=node9_name, value=top_level_unique_values_dict['9e798c3b-22e3-40da-8044-bffee2c29526'], initial_setup=True, is_output=True))
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='was_successful', node_name=node9_name, value=top_level_unique_values_dict['1cb12ffa-e2e9-438a-b70a-99a2fc1474df'], initial_setup=True, is_output=False))
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='was_successful', node_name=node9_name, value=top_level_unique_values_dict['1cb12ffa-e2e9-438a-b70a-99a2fc1474df'], initial_setup=True, is_output=True))
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='result_details', node_name=node9_name, value=top_level_unique_values_dict['5be08aed-832f-469b-8e9b-058bf3826859'], initial_setup=True, is_output=False))
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='result_details', node_name=node9_name, value=top_level_unique_values_dict['5be08aed-832f-469b-8e9b-058bf3826859'], initial_setup=True, is_output=True))
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='logs', node_name=node9_name, value=top_level_unique_values_dict['fd5dc0ad-89f5-4167-b1f3-fc67e684f022'], initial_setup=True, is_output=True))
    with GriptapeNodes.ContextManager().node(node10_name):
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='note', node_name=node10_name, value=top_level_unique_values_dict['73a33740-baf9-43e9-be72-87b72889beb6'], initial_setup=True, is_output=False))
    with GriptapeNodes.ContextManager().node(node11_name):
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='text', node_name=node11_name, value=top_level_unique_values_dict['53ccde71-17ce-4143-a3a9-b081ff010948'], initial_setup=True, is_output=False))
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='text', node_name=node11_name, value=top_level_unique_values_dict['53ccde71-17ce-4143-a3a9-b081ff010948'], initial_setup=True, is_output=True))
    with GriptapeNodes.ContextManager().node(node12_name):
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='integer', node_name=node12_name, value=top_level_unique_values_dict['4bfe7047-f8c8-42bf-b3f4-2d21a02b8f1e'], initial_setup=True, is_output=False))
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='integer', node_name=node12_name, value=top_level_unique_values_dict['4bfe7047-f8c8-42bf-b3f4-2d21a02b8f1e'], initial_setup=True, is_output=True))
    with GriptapeNodes.ContextManager().node(node13_name):
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='expression', node_name=node13_name, value=top_level_unique_values_dict['53ccde71-17ce-4143-a3a9-b081ff010948'], initial_setup=True, is_output=False))
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='num_variables', node_name=node13_name, value=top_level_unique_values_dict['c7327df9-0dd9-4264-b5e7-f028dd42cb56'], initial_setup=True, is_output=False))
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='a', node_name=node13_name, value=top_level_unique_values_dict['92316927-1574-4e30-9537-484040abb786'], initial_setup=True, is_output=False))
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='b', node_name=node13_name, value=top_level_unique_values_dict['4bfe7047-f8c8-42bf-b3f4-2d21a02b8f1e'], initial_setup=True, is_output=False))
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='c', node_name=node13_name, value=top_level_unique_values_dict['eb964b12-f780-47d7-a538-36b3da8b4939'], initial_setup=True, is_output=False))
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='d', node_name=node13_name, value=top_level_unique_values_dict['eb964b12-f780-47d7-a538-36b3da8b4939'], initial_setup=True, is_output=False))
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='e', node_name=node13_name, value=top_level_unique_values_dict['eb964b12-f780-47d7-a538-36b3da8b4939'], initial_setup=True, is_output=False))
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='f', node_name=node13_name, value=top_level_unique_values_dict['eb964b12-f780-47d7-a538-36b3da8b4939'], initial_setup=True, is_output=False))
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='g', node_name=node13_name, value=top_level_unique_values_dict['eb964b12-f780-47d7-a538-36b3da8b4939'], initial_setup=True, is_output=False))
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='h', node_name=node13_name, value=top_level_unique_values_dict['eb964b12-f780-47d7-a538-36b3da8b4939'], initial_setup=True, is_output=False))
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='i', node_name=node13_name, value=top_level_unique_values_dict['eb964b12-f780-47d7-a538-36b3da8b4939'], initial_setup=True, is_output=False))
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='j', node_name=node13_name, value=top_level_unique_values_dict['eb964b12-f780-47d7-a538-36b3da8b4939'], initial_setup=True, is_output=False))
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='k', node_name=node13_name, value=top_level_unique_values_dict['eb964b12-f780-47d7-a538-36b3da8b4939'], initial_setup=True, is_output=False))
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='l', node_name=node13_name, value=top_level_unique_values_dict['eb964b12-f780-47d7-a538-36b3da8b4939'], initial_setup=True, is_output=False))
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='m', node_name=node13_name, value=top_level_unique_values_dict['eb964b12-f780-47d7-a538-36b3da8b4939'], initial_setup=True, is_output=False))
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='n', node_name=node13_name, value=top_level_unique_values_dict['eb964b12-f780-47d7-a538-36b3da8b4939'], initial_setup=True, is_output=False))
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='o', node_name=node13_name, value=top_level_unique_values_dict['eb964b12-f780-47d7-a538-36b3da8b4939'], initial_setup=True, is_output=False))
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='p', node_name=node13_name, value=top_level_unique_values_dict['eb964b12-f780-47d7-a538-36b3da8b4939'], initial_setup=True, is_output=False))
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='q', node_name=node13_name, value=top_level_unique_values_dict['eb964b12-f780-47d7-a538-36b3da8b4939'], initial_setup=True, is_output=False))
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='r', node_name=node13_name, value=top_level_unique_values_dict['eb964b12-f780-47d7-a538-36b3da8b4939'], initial_setup=True, is_output=False))
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='s', node_name=node13_name, value=top_level_unique_values_dict['eb964b12-f780-47d7-a538-36b3da8b4939'], initial_setup=True, is_output=False))
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='t', node_name=node13_name, value=top_level_unique_values_dict['eb964b12-f780-47d7-a538-36b3da8b4939'], initial_setup=True, is_output=False))
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='u', node_name=node13_name, value=top_level_unique_values_dict['eb964b12-f780-47d7-a538-36b3da8b4939'], initial_setup=True, is_output=False))
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='v', node_name=node13_name, value=top_level_unique_values_dict['eb964b12-f780-47d7-a538-36b3da8b4939'], initial_setup=True, is_output=False))
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='w', node_name=node13_name, value=top_level_unique_values_dict['eb964b12-f780-47d7-a538-36b3da8b4939'], initial_setup=True, is_output=False))
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='x', node_name=node13_name, value=top_level_unique_values_dict['eb964b12-f780-47d7-a538-36b3da8b4939'], initial_setup=True, is_output=False))
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='y', node_name=node13_name, value=top_level_unique_values_dict['eb964b12-f780-47d7-a538-36b3da8b4939'], initial_setup=True, is_output=False))
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='z', node_name=node13_name, value=top_level_unique_values_dict['eb964b12-f780-47d7-a538-36b3da8b4939'], initial_setup=True, is_output=False))
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='output_type', node_name=node13_name, value=top_level_unique_values_dict['06a31bd8-6961-4948-bd03-25d218d5d017'], initial_setup=True, is_output=False))
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='precision', node_name=node13_name, value=top_level_unique_values_dict['2fdc9975-8022-457f-875a-a312ef9dfb08'], initial_setup=True, is_output=False))
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='result', node_name=node13_name, value=top_level_unique_values_dict['2683a484-a10f-4bc5-ae3b-cf6e5055d7dd'], initial_setup=True, is_output=False))
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='result', node_name=node13_name, value=top_level_unique_values_dict['05da11da-0cd0-449c-b7b8-8d69e0941b2f'], initial_setup=True, is_output=True))
    with GriptapeNodes.ContextManager().node(node14_name):
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='expression', node_name=node14_name, value=top_level_unique_values_dict['53ccde71-17ce-4143-a3a9-b081ff010948'], initial_setup=True, is_output=False))
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='num_variables', node_name=node14_name, value=top_level_unique_values_dict['c7327df9-0dd9-4264-b5e7-f028dd42cb56'], initial_setup=True, is_output=False))
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='a', node_name=node14_name, value=top_level_unique_values_dict['28c9921a-6a47-4ca0-8f2e-55eb3109aeb8'], initial_setup=True, is_output=False))
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='b', node_name=node14_name, value=top_level_unique_values_dict['4bfe7047-f8c8-42bf-b3f4-2d21a02b8f1e'], initial_setup=True, is_output=False))
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='c', node_name=node14_name, value=top_level_unique_values_dict['eb964b12-f780-47d7-a538-36b3da8b4939'], initial_setup=True, is_output=False))
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='d', node_name=node14_name, value=top_level_unique_values_dict['eb964b12-f780-47d7-a538-36b3da8b4939'], initial_setup=True, is_output=False))
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='e', node_name=node14_name, value=top_level_unique_values_dict['eb964b12-f780-47d7-a538-36b3da8b4939'], initial_setup=True, is_output=False))
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='f', node_name=node14_name, value=top_level_unique_values_dict['eb964b12-f780-47d7-a538-36b3da8b4939'], initial_setup=True, is_output=False))
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='g', node_name=node14_name, value=top_level_unique_values_dict['eb964b12-f780-47d7-a538-36b3da8b4939'], initial_setup=True, is_output=False))
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='h', node_name=node14_name, value=top_level_unique_values_dict['eb964b12-f780-47d7-a538-36b3da8b4939'], initial_setup=True, is_output=False))
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='i', node_name=node14_name, value=top_level_unique_values_dict['eb964b12-f780-47d7-a538-36b3da8b4939'], initial_setup=True, is_output=False))
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='j', node_name=node14_name, value=top_level_unique_values_dict['eb964b12-f780-47d7-a538-36b3da8b4939'], initial_setup=True, is_output=False))
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='k', node_name=node14_name, value=top_level_unique_values_dict['eb964b12-f780-47d7-a538-36b3da8b4939'], initial_setup=True, is_output=False))
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='l', node_name=node14_name, value=top_level_unique_values_dict['eb964b12-f780-47d7-a538-36b3da8b4939'], initial_setup=True, is_output=False))
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='m', node_name=node14_name, value=top_level_unique_values_dict['eb964b12-f780-47d7-a538-36b3da8b4939'], initial_setup=True, is_output=False))
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='n', node_name=node14_name, value=top_level_unique_values_dict['eb964b12-f780-47d7-a538-36b3da8b4939'], initial_setup=True, is_output=False))
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='o', node_name=node14_name, value=top_level_unique_values_dict['eb964b12-f780-47d7-a538-36b3da8b4939'], initial_setup=True, is_output=False))
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='p', node_name=node14_name, value=top_level_unique_values_dict['eb964b12-f780-47d7-a538-36b3da8b4939'], initial_setup=True, is_output=False))
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='q', node_name=node14_name, value=top_level_unique_values_dict['eb964b12-f780-47d7-a538-36b3da8b4939'], initial_setup=True, is_output=False))
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='r', node_name=node14_name, value=top_level_unique_values_dict['eb964b12-f780-47d7-a538-36b3da8b4939'], initial_setup=True, is_output=False))
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='s', node_name=node14_name, value=top_level_unique_values_dict['eb964b12-f780-47d7-a538-36b3da8b4939'], initial_setup=True, is_output=False))
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='t', node_name=node14_name, value=top_level_unique_values_dict['eb964b12-f780-47d7-a538-36b3da8b4939'], initial_setup=True, is_output=False))
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='u', node_name=node14_name, value=top_level_unique_values_dict['eb964b12-f780-47d7-a538-36b3da8b4939'], initial_setup=True, is_output=False))
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='v', node_name=node14_name, value=top_level_unique_values_dict['eb964b12-f780-47d7-a538-36b3da8b4939'], initial_setup=True, is_output=False))
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='w', node_name=node14_name, value=top_level_unique_values_dict['eb964b12-f780-47d7-a538-36b3da8b4939'], initial_setup=True, is_output=False))
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='x', node_name=node14_name, value=top_level_unique_values_dict['eb964b12-f780-47d7-a538-36b3da8b4939'], initial_setup=True, is_output=False))
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='y', node_name=node14_name, value=top_level_unique_values_dict['eb964b12-f780-47d7-a538-36b3da8b4939'], initial_setup=True, is_output=False))
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='z', node_name=node14_name, value=top_level_unique_values_dict['eb964b12-f780-47d7-a538-36b3da8b4939'], initial_setup=True, is_output=False))
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='output_type', node_name=node14_name, value=top_level_unique_values_dict['06a31bd8-6961-4948-bd03-25d218d5d017'], initial_setup=True, is_output=False))
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='precision', node_name=node14_name, value=top_level_unique_values_dict['2fdc9975-8022-457f-875a-a312ef9dfb08'], initial_setup=True, is_output=False))
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='result', node_name=node14_name, value=top_level_unique_values_dict['2683a484-a10f-4bc5-ae3b-cf6e5055d7dd'], initial_setup=True, is_output=False))
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='result', node_name=node14_name, value=top_level_unique_values_dict['28c9921a-6a47-4ca0-8f2e-55eb3109aeb8'], initial_setup=True, is_output=True))
    with GriptapeNodes.ContextManager().node(node15_name):
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='note', node_name=node15_name, value=top_level_unique_values_dict['8393ae29-a34a-4f05-ae7c-4da59b2864bf'], initial_setup=True, is_output=False))
    with GriptapeNodes.ContextManager().node(node16_name):
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='note', node_name=node16_name, value=top_level_unique_values_dict['c1dbcd6b-5707-4de0-b1a8-4e6ba2cff293'], initial_setup=True, is_output=False))
    with GriptapeNodes.ContextManager().node(node17_name):
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='note', node_name=node17_name, value=top_level_unique_values_dict['7b6e9138-2bd0-46b0-a258-d98b758b19f1'], initial_setup=True, is_output=False))
    with GriptapeNodes.ContextManager().node(node18_name):
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='note', node_name=node18_name, value=top_level_unique_values_dict['af334de0-c430-4e05-a02f-a5affb62a0cc'], initial_setup=True, is_output=False))
    with GriptapeNodes.ContextManager().node(node19_name):
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='model', node_name=node19_name, value=top_level_unique_values_dict['a3385ddd-8e55-4917-bc03-40916edf159b'], initial_setup=True, is_output=False))
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='prompt', node_name=node19_name, value=top_level_unique_values_dict['614439d0-8a59-413c-b30e-933f2e2b617f'], initial_setup=True, is_output=False))
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='input_images', node_name=node19_name, value=top_level_unique_values_dict['692a5330-e3d7-4e0c-98c2-9e1478c96992'], initial_setup=True, is_output=False))
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='input_images_ParameterListUniqueParamID_1f4816b3cfbd4aceb66a5001384790b0', node_name=node19_name, value=top_level_unique_values_dict['9e798c3b-22e3-40da-8044-bffee2c29526'], initial_setup=True, is_output=False))
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='input_images_ParameterListUniqueParamID_38cf37a75b3f471aa673db1999cc930e', node_name=node19_name, value=top_level_unique_values_dict['a7d7dbd2-48d2-4e5a-b477-df506b558cea'], initial_setup=True, is_output=False))
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='input_images_ParameterListUniqueParamID_4e3346d3ccf642e38b9e207cd520a545', node_name=node19_name, value=top_level_unique_values_dict['46f21cc3-ab77-49d2-a767-ffa82c1e1aef'], initial_setup=True, is_output=False))
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='width', node_name=node19_name, value=top_level_unique_values_dict['05da11da-0cd0-449c-b7b8-8d69e0941b2f'], initial_setup=True, is_output=False))
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='height', node_name=node19_name, value=top_level_unique_values_dict['28c9921a-6a47-4ca0-8f2e-55eb3109aeb8'], initial_setup=True, is_output=False))
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='randomize_seed', node_name=node19_name, value=top_level_unique_values_dict['1cb12ffa-e2e9-438a-b70a-99a2fc1474df'], initial_setup=True, is_output=False))
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='seed', node_name=node19_name, value=top_level_unique_values_dict['6225299b-67bc-40a9-abb8-cd253d5da04f'], initial_setup=True, is_output=False))
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='output_format', node_name=node19_name, value=top_level_unique_values_dict['187d87db-1130-475b-9d65-2bda12fed201'], initial_setup=True, is_output=False))
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='safety_tolerance', node_name=node19_name, value=top_level_unique_values_dict['835931c9-986a-4ac1-bd97-c971de3a0c9a'], initial_setup=True, is_output=False))
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='steps', node_name=node19_name, value=top_level_unique_values_dict['f0bd7874-da88-4bbe-b722-f534c85735ed'], initial_setup=True, is_output=False))
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='guidance', node_name=node19_name, value=top_level_unique_values_dict['54eb7ef2-b418-4987-ba08-cd8394435d56'], initial_setup=True, is_output=False))
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='was_successful', node_name=node19_name, value=top_level_unique_values_dict['1cb12ffa-e2e9-438a-b70a-99a2fc1474df'], initial_setup=True, is_output=False))
    with GriptapeNodes.ContextManager().node(node20_name):
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='input_image', node_name=node20_name, value=top_level_unique_values_dict['9e798c3b-22e3-40da-8044-bffee2c29526'], initial_setup=True, is_output=False))
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='output_mask', node_name=node20_name, value=top_level_unique_values_dict['88b4112b-7778-476f-b8c6-382cd0a15efa'], initial_setup=True, is_output=False))
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='invert_mask', node_name=node20_name, value=top_level_unique_values_dict['1cb12ffa-e2e9-438a-b70a-99a2fc1474df'], initial_setup=True, is_output=False))
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='grow_shrink', node_name=node20_name, value=top_level_unique_values_dict['2683a484-a10f-4bc5-ae3b-cf6e5055d7dd'], initial_setup=True, is_output=False))
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='blur_mask', node_name=node20_name, value=top_level_unique_values_dict['2683a484-a10f-4bc5-ae3b-cf6e5055d7dd'], initial_setup=True, is_output=False))
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='output_image', node_name=node20_name, value=top_level_unique_values_dict['9e798c3b-22e3-40da-8044-bffee2c29526'], initial_setup=True, is_output=False))

def _ensure_workflow_context():
    context_manager = GriptapeNodes.ContextManager()
    if not context_manager.has_current_flow():
        top_level_flow_request = GetTopLevelFlowRequest()
        top_level_flow_result = GriptapeNodes.handle_request(top_level_flow_request)
        if isinstance(top_level_flow_result, GetTopLevelFlowResultSuccess) and top_level_flow_result.flow_name is not None:
            flow_manager = GriptapeNodes.FlowManager()
            flow_obj = flow_manager.get_flow_by_name(top_level_flow_result.flow_name)
            context_manager.push_flow(flow_obj)

def execute_workflow(input: dict, storage_backend: str='local', workflow_executor: WorkflowExecutor | None=None, pickle_control_flow_result: bool=False) -> dict | None:
    return asyncio.run(aexecute_workflow(input=input, storage_backend=storage_backend, workflow_executor=workflow_executor, pickle_control_flow_result=pickle_control_flow_result))

async def aexecute_workflow(input: dict, storage_backend: str='local', workflow_executor: WorkflowExecutor | None=None, pickle_control_flow_result: bool=False) -> dict | None:
    _ensure_workflow_context()
    storage_backend_enum = StorageBackend(storage_backend)
    workflow_executor = workflow_executor or LocalWorkflowExecutor(storage_backend=storage_backend_enum)
    async with workflow_executor as executor:
        await executor.arun(flow_input=input, pickle_control_flow_result=pickle_control_flow_result)
    return executor.output

if __name__ == '__main__':
    parser = argparse.ArgumentParser()
    parser.add_argument('--storage-backend', choices=['local', 'gtc'], default='local', help="Storage backend to use: 'local' for local filesystem or 'gtc' for Griptape Cloud")
    parser.add_argument('--json-input', default=None, help='JSON string containing parameter values. Takes precedence over individual parameter arguments if provided.')
    parser.add_argument('--exec_out', default=None, help='Connection to the next node in the execution chain')
    parser.add_argument('--input_url', default=None, help='Enter text/string for input_url.')
    args = parser.parse_args()
    flow_input = {}
    if args.json_input is not None:
        flow_input = json.loads(args.json_input)
    if args.json_input is None:
        if 'Start Flow' not in flow_input:
            flow_input['Start Flow'] = {}
        if args.exec_out is not None:
            flow_input['Start Flow']['exec_out'] = args.exec_out
        if args.input_url is not None:
            flow_input['Start Flow']['input_url'] = args.input_url
    workflow_output = execute_workflow(input=flow_input, storage_backend=args.storage_backend)
    print(workflow_output)
