# /// script
# dependencies = []
# 
# [tool.griptape-nodes]
# name = "Rodin 3D - 3D Model from Image"
# schema_version = "0.14.0"
# engine_version_created_with = "0.71.0"
# node_libraries_referenced = [["Griptape Nodes Library", "0.60.1"]]
# node_types_used = [["Griptape Nodes Library", "DescribeImage"], ["Griptape Nodes Library", "EndFlow"], ["Griptape Nodes Library", "Flux2ImageGeneration"], ["Griptape Nodes Library", "LoadImage"], ["Griptape Nodes Library", "MergeTexts"], ["Griptape Nodes Library", "Note"], ["Griptape Nodes Library", "Rodin23DGeneration"], ["Griptape Nodes Library", "StartFlow"]]
# description = "Generate a 3D model from an image using Hyper3D Rodin, Flux-2 Klein, and OpenAI gpt-4.1-mini."
# is_griptape_provided = true
# is_template = true
# creation_date = 2025-12-18T17:03:44.209505Z
# last_modified_date = 2026-01-28T16:08:13.809555Z
# workflow_shape = "{\"inputs\":{\"Start Flow\":{\"exec_out\":{\"name\":\"exec_out\",\"tooltip\":\"Connection to the next node in the execution chain\",\"type\":\"parametercontroltype\",\"input_types\":[\"parametercontroltype\"],\"output_type\":\"parametercontroltype\",\"default_value\":null,\"tooltip_as_input\":null,\"tooltip_as_property\":null,\"tooltip_as_output\":null,\"ui_options\":{\"display_name\":\"Flow Out\"},\"settable\":true,\"is_user_defined\":true,\"private\":false,\"parent_container_name\":null,\"parent_element_name\":null},\"image_url\":{\"name\":\"image_url\",\"tooltip\":\"Enter text/string for image_url.\",\"type\":\"str\",\"input_types\":[\"str\"],\"output_type\":\"str\",\"default_value\":\"https://images.pdimagearchive.org/collections/posed-portraits-of-19th-century-baseball-stars/4051199982_718521f59f_z.jpg?zz=1?width=438&height=800\",\"tooltip_as_input\":null,\"tooltip_as_property\":null,\"tooltip_as_output\":null,\"ui_options\":{\"is_custom\":true,\"is_user_added\":true},\"settable\":true,\"is_user_defined\":true,\"private\":false,\"parent_container_name\":null,\"parent_element_name\":null},\"image\":{\"name\":\"image\",\"tooltip\":\"New parameter\",\"type\":\"ImageUrlArtifact\",\"input_types\":[\"ImageUrlArtifact\",\"ImageArtifact\",\"str\"],\"output_type\":\"ImageUrlArtifact\",\"default_value\":\"\",\"tooltip_as_input\":null,\"tooltip_as_property\":null,\"tooltip_as_output\":null,\"ui_options\":{\"clickable_file_browser\":true,\"expander\":true,\"edit_mask\":true,\"display_name\":\"image\",\"is_custom\":true,\"is_user_added\":true,\"hide\":false},\"settable\":true,\"is_user_defined\":true,\"private\":false,\"parent_container_name\":\"\",\"parent_element_name\":null}}},\"outputs\":{\"End Flow\":{\"exec_in\":{\"name\":\"exec_in\",\"tooltip\":\"Control path when the flow completed successfully\",\"type\":\"parametercontroltype\",\"input_types\":[\"parametercontroltype\"],\"output_type\":\"parametercontroltype\",\"default_value\":null,\"tooltip_as_input\":null,\"tooltip_as_property\":null,\"tooltip_as_output\":null,\"ui_options\":{\"display_name\":\"Succeeded\"},\"settable\":true,\"is_user_defined\":true,\"private\":false,\"parent_container_name\":null,\"parent_element_name\":null},\"failed\":{\"name\":\"failed\",\"tooltip\":\"Control path when the flow failed\",\"type\":\"parametercontroltype\",\"input_types\":[\"parametercontroltype\"],\"output_type\":\"parametercontroltype\",\"default_value\":null,\"tooltip_as_input\":null,\"tooltip_as_property\":null,\"tooltip_as_output\":null,\"ui_options\":{\"display_name\":\"Failed\"},\"settable\":true,\"is_user_defined\":true,\"private\":false,\"parent_container_name\":null,\"parent_element_name\":null},\"was_successful\":{\"name\":\"was_successful\",\"tooltip\":\"Indicates whether it completed without errors.\",\"type\":\"bool\",\"input_types\":[\"bool\"],\"output_type\":\"bool\",\"default_value\":false,\"tooltip_as_input\":null,\"tooltip_as_property\":null,\"tooltip_as_output\":null,\"ui_options\":{},\"settable\":false,\"is_user_defined\":true,\"private\":false,\"parent_container_name\":null,\"parent_element_name\":null},\"result_details\":{\"name\":\"result_details\",\"tooltip\":\"Details about the operation result\",\"type\":\"str\",\"input_types\":[\"str\"],\"output_type\":\"str\",\"default_value\":null,\"tooltip_as_input\":null,\"tooltip_as_property\":null,\"tooltip_as_output\":null,\"ui_options\":{\"multiline\":true,\"placeholder_text\":\"Details about the completion or failure will be shown here.\"},\"settable\":false,\"is_user_defined\":true,\"private\":false,\"parent_container_name\":null,\"parent_element_name\":null},\"model_url\":{\"name\":\"model_url\",\"tooltip\":\"New parameter\",\"type\":\"ThreeDUrlArtifact\",\"input_types\":[\"ThreeDUrlArtifact\"],\"output_type\":\"ThreeDUrlArtifact\",\"default_value\":\"\",\"tooltip_as_input\":null,\"tooltip_as_property\":null,\"tooltip_as_output\":null,\"ui_options\":{\"is_full_width\":true,\"pulse_on_run\":true,\"display_name\":\"3D Model\",\"is_custom\":true,\"is_user_added\":true},\"settable\":true,\"is_user_defined\":true,\"private\":false,\"parent_container_name\":\"\",\"parent_element_name\":null},\"image\":{\"name\":\"image\",\"tooltip\":\"New parameter\",\"type\":\"ImageUrlArtifact\",\"input_types\":[\"ImageUrlArtifact\"],\"output_type\":\"ImageUrlArtifact\",\"default_value\":\"\",\"tooltip_as_input\":null,\"tooltip_as_property\":null,\"tooltip_as_output\":null,\"ui_options\":{\"is_full_width\":true,\"pulse_on_run\":true,\"is_custom\":true,\"is_user_added\":true},\"settable\":true,\"is_user_defined\":true,\"private\":false,\"parent_container_name\":\"\",\"parent_element_name\":null},\"image_1\":{\"name\":\"image_1\",\"tooltip\":\"New parameter\",\"type\":\"ImageUrlArtifact\",\"input_types\":[\"ImageUrlArtifact\"],\"output_type\":\"ImageUrlArtifact\",\"default_value\":\"\",\"tooltip_as_input\":null,\"tooltip_as_property\":null,\"tooltip_as_output\":null,\"ui_options\":{\"is_full_width\":true,\"pulse_on_run\":true,\"is_custom\":true,\"is_user_added\":true},\"settable\":true,\"is_user_defined\":true,\"private\":false,\"parent_container_name\":\"\",\"parent_element_name\":null}}}}"
# image = "https://raw.githubusercontent.com/griptape-ai/griptape-nodes/refs/heads/main/libraries/griptape_nodes_library/workflows/templates/thumbnail_rodin_3d_-_3d_model_from_image.webp"
#
# ///

import argparse
import asyncio
import json
import pickle
from griptape.artifacts.image_url_artifact import ImageUrlArtifact
from griptape_nodes.bootstrap.workflow_executors.local_workflow_executor import LocalWorkflowExecutor
from griptape_nodes.bootstrap.workflow_executors.workflow_executor import WorkflowExecutor
from griptape_nodes.drivers.storage.storage_backend import StorageBackend
from griptape_nodes.node_library.library_registry import IconVariant, NodeDeprecationMetadata, NodeMetadata
from griptape_nodes.retained_mode.events.connection_events import CreateConnectionRequest
from griptape_nodes.retained_mode.events.flow_events import CreateFlowRequest, GetTopLevelFlowRequest, GetTopLevelFlowResultSuccess
from griptape_nodes.retained_mode.events.library_events import LoadLibrariesRequest
from griptape_nodes.retained_mode.events.node_events import CreateNodeRequest
from griptape_nodes.retained_mode.events.parameter_events import AddParameterToNodeRequest, AlterParameterDetailsRequest, SetParameterValueRequest
from griptape_nodes.retained_mode.griptape_nodes import GriptapeNodes

GriptapeNodes.handle_request(LoadLibrariesRequest())

context_manager = GriptapeNodes.ContextManager()

if not context_manager.has_current_workflow():
    context_manager.push_workflow(workflow_name='Rodin 3D - 3D Model from Image')

"""
1. We've collated all of the unique parameter values into a dictionary so that we do not have to duplicate them.
   This minimizes the size of the code, especially for large objects like serialized image files.
2. We're using a prefix so that it's clear which Flow these values are associated with.
3. The values are serialized using pickle, which is a binary format. This makes them harder to read, but makes
   them consistently save and load. It allows us to serialize complex objects like custom classes, which otherwise
   would be difficult to serialize.
"""
top_level_unique_values_dict = {'c85fc84f-ed9c-46de-aee3-ad9ce8cfd266': pickle.loads(b'\x80\x04\x95\xaa\x00\x00\x00\x00\x00\x00\x00\x8c\xa6https://images.pdimagearchive.org/collections/joseph-ducreux-self-portraits/6a7dc663cb2b4ad4e42b05584699e7003971c66d247f3301e6ff42125321-edit.jpg?width=755&height=800\x94.'), '9813daa2-3c1a-4cf1-9384-ebeae6a4157a': pickle.loads(b'\x80\x04\x95\x04\x00\x00\x00\x00\x00\x00\x00\x8c\x00\x94.'), '6b9fb11b-f54b-4ff1-8fc1-b6931ca608c5': pickle.loads(b'\x80\x04\x95\x9c\x01\x00\x00\x00\x00\x00\x00\x8c%griptape.artifacts.image_url_artifact\x94\x8c\x10ImageUrlArtifact\x94\x93\x94)\x81\x94}\x94(\x8c\x04type\x94\x8c\x10ImageUrlArtifact\x94\x8c\x0bmodule_name\x94\x8c%griptape.artifacts.image_url_artifact\x94\x8c\x02id\x94\x8c 0e4a94c3cb434c9daa6b8c7c08eeaa6a\x94\x8c\treference\x94N\x8c\x04meta\x94}\x94\x8c\x04name\x94h\n\x8c\x16encoding_error_handler\x94\x8c\x06strict\x94\x8c\x08encoding\x94\x8c\x05utf-8\x94\x8c\x05value\x94\x8c\x7fhttp://localhost:8124/workspace/static_files/6a7dc663cb2b4ad4e42b05584699e7003971c66d247f3301e6ff42125321-edit.jpg?t=1766088547\x94ub.'), '628a8135-6dc2-4ca8-b2de-e663822288f6': pickle.loads(b'\x80\x04\x95\x83\x00\x00\x00\x00\x00\x00\x00\x8c\x7fhttp://localhost:8124/workspace/static_files/6a7dc663cb2b4ad4e42b05584699e7003971c66d247f3301e6ff42125321-edit.jpg?t=1766088547\x94.'), '26cef384-4f3f-424b-a112-e8469944fc71': pickle.loads(b'\x80\x04\x95\x08\x00\x00\x00\x00\x00\x00\x00\x8c\x04none\x94.'), '3e7098a1-57ff-4a69-85a0-fb6aad57b4f8': pickle.loads(b'\x80\x04\x89.'), 'c4dccf11-d1b7-431a-9dc3-574acd4b00de': pickle.loads(b'\x80\x04\x950\x00\x00\x00\x00\x00\x00\x00\x8c,<Results will appear when the node executes>\x94.'), '2ecec6ad-9a9c-4d4d-8a7b-50d52d4119ea': pickle.loads(b'\x80\x04\x956\x03\x00\x00\x00\x00\x00\x00X/\x03\x00\x00# Rodin 3D - Create a 3D Model from an Image\n\nThis workflow demonstrates the use of various models to generate a 3D model.\n\nIt first grabs an image from the [Public Domain Image Archive](https://pdimagearchive.org/galleries/all) - a fantastic resource for inspirational and unique images.\n\nThen, uses [OpenAI gpt-4.1-mini](https://platform.openai.com/docs/models/gpt-4.1-mini) to describe the hat in that image.\n\nNext, it uses [Flux-2 Klein](https://bfl.ai/models/flux-2-klein) to render the a nice image of the hat in perspective view, then renders another view of the bottom of the hat. \n\nThese images are pasted to [Hyper3D Rodin](https://hyper3d.ai/) to generate a 3d model.\n\n_Note_: You can provide your own image by simply disconnecting the `image_url` parameter and instead connecting the `image` parameter. \x94.'), 'ccf33a1b-687e-405b-b0c8-a7aec0db9f39': pickle.loads(b'\x80\x04\x95\xad\x00\x00\x00\x00\x00\x00\x00\x8c\xa9# Inputs\n\nProvide the url of a person from the [Public Domain Image Archive](https://pdimagearchive.org/galleries/all), or provide your own image and connect it instead.\x94.'), 'ea9e5fb5-6ab7-4228-9ca3-9907e525c314': pickle.loads(b'\x80\x04\x95~\x00\x00\x00\x00\x00\x00\x00\x8czUse OpenAI gpt-4.1-mini to describe the hat from the image so that it can be generated cleanly with Google Nano Banana Pro\x94.'), '8303b552-f54a-4351-875c-ae0a4f686452': pickle.loads(b"\x80\x04\x95'\x00\x00\x00\x00\x00\x00\x00\x8c#Merge the text to generate a prompt\x94."), 'ee41f1d5-3fbc-4611-a45c-b719e2df3126': pickle.loads(b'\x80\x04\x95}\x00\x00\x00\x00\x00\x00\x00\x8cyCreate a 3d high resolution render of the hat from this image, using information from the description as supporting data.\x94.'), 'aa86833d-1c95-4409-81b6-1eebac09e909': pickle.loads(b'\x80\x04\x95_\x02\x00\x00\x00\x00\x00\x00XX\x02\x00\x00The hat in the image is a tall, black top hat with a cylindrical crown that is relatively high, approximately 6 to 7 inches in height. The crown is smooth and rounded at the top without any visible dents or creases, giving it a firm and structured appearance. The brim is wide and slightly curved upwards around the edges, extending outward about 2 to 3 inches from the base of the crown. The surface of the hat appears to have a matte texture with a subtle sheen, suggesting it is made of felt or a similar material. The overall design is classic and formal, typical of 18th or 19th-century fashion.\x94.'), '70d8f80b-ed65-4c24-9d44-1b24e71f06e0': pickle.loads(b'\x80\x04\x95#\x00\x00\x00\x00\x00\x00\x00\x8c\x1flight background, soft shadows.\x94.'), 'fe913f49-a36c-4152-b362-655a8a019463': pickle.loads(b'\x80\x04\x95\x08\x00\x00\x00\x00\x00\x00\x00\x8c\x04\\n\\n\x94.'), '94964b6b-ee3a-4bcc-a2ec-f58c7e880e71': pickle.loads(b'\x80\x04\x95\xfb\x02\x00\x00\x00\x00\x00\x00X\xf4\x02\x00\x00Create a 3d high resolution render of the hat from this image, using information from the description as supporting data.\n\nThe hat in the image is a tall, black top hat with a cylindrical crown that is relatively high, approximately 6 to 7 inches in height. The crown is smooth and rounded at the top without any visible dents or creases, giving it a firm and structured appearance. The brim is wide and slightly curved upwards around the edges, extending outward about 2 to 3 inches from the base of the crown. The surface of the hat appears to have a matte texture with a subtle sheen, suggesting it is made of felt or a similar material. The overall design is classic and formal, typical of 18th or 19th-century fashion.\n\nlight background, soft shadows.\x94.'), 'e7e42d08-3b07-43e3-8072-1b8150c2ec90': pickle.loads(b"\x80\x04\x95]\x00\x00\x00\x00\x00\x00\x00\x8cYRun the workflow to view the results. You'll get the 3d model, and two images of the hat.\x94."), '4caa3062-88bf-45d0-8dd1-41463b664587': pickle.loads(b'\x80\x04\x95\xa9\x00\x00\x00\x00\x00\x00\x00\x8c\xa5Use Flux.2 Klein to generate a 3d perspective view and a 3/4 underside image of the hat. These two images will provide enough detail to Ronin to create the 3d model.\x94.'), 'a6201b88-8520-4ddb-aa80-e786b81ec574': pickle.loads(b'\x80\x04\x95\xa3\x00\x00\x00\x00\x00\x00\x00\x8c\x9fGenerate a 3d Model with [Hyper 3D Ronin](https://hyper3d.ai/).\n\nThis currently outputs **glb** format, but you can make changes to any parameters you require.\x94.'), '05e3dfe3-9c8c-4dcc-9647-b701b247c723': pickle.loads(b'\x80\x04\x95\x84\x06\x00\x00\x00\x00\x00\x00}\x94(\x8c\x04type\x94\x8c\x12GriptapeNodesAgent\x94\x8c\x08rulesets\x94]\x94\x8c\x05rules\x94]\x94\x8c\x02id\x94\x8c 187014a4c2d94dc18e20cba7a539b15a\x94\x8c\x13conversation_memory\x94}\x94(h\x01\x8c\x12ConversationMemory\x94\x8c\x04runs\x94]\x94}\x94(h\x01\x8c\x03Run\x94h\x07\x8c c459b3301d6b4466a21bd59d87edd4e8\x94\x8c\x04meta\x94N\x8c\x05input\x94}\x94(h\x01\x8c\x0cTextArtifact\x94h\x07\x8c 1f09e3f8361e44d5924f0d1180a62bbd\x94\x8c\treference\x94Nh\x11}\x94\x8c\x04name\x94h\x15\x8c\x05value\x94\x8c\xf6Describe the hat from this image. Be specific about the shape and design. Include detailed reference to height, width, and creasing. Include specific details on brim shape, and any dents or textures in the surface.\n\nOutput image description only.\x94u\x8c\x06output\x94}\x94(h\x01h\x14h\x07\x8c 7b2164ded78844b8b7f8de1022d8d6d5\x94h\x16Nh\x11}\x94h\x18h\x1dh\x19XX\x02\x00\x00The hat in the image is a tall, black top hat with a cylindrical crown that is relatively high, approximately 6 to 7 inches in height. The crown is smooth and rounded at the top without any visible dents or creases, giving it a firm and structured appearance. The brim is wide and slightly curved upwards around the edges, extending outward about 2 to 3 inches from the base of the crown. The surface of the hat appears to have a matte texture with a subtle sheen, suggesting it is made of felt or a similar material. The overall design is classic and formal, typical of 18th or 19th-century fashion.\x94uuah\x11}\x94\x8c\x08max_runs\x94Nu\x8c\x1cconversation_memory_strategy\x94\x8c\rper_structure\x94\x8c\x05tasks\x94]\x94}\x94(h\x01\x8c\nPromptTask\x94h\x03]\x94h\x05]\x94h\x07\x8c e6e9e656090e42e7be331bbb4be223fa\x94\x8c\x05state\x94\x8c\x0eState.FINISHED\x94\x8c\nparent_ids\x94]\x94\x8c\tchild_ids\x94]\x94\x8c\x17max_meta_memory_entries\x94K\x14\x8c\x07context\x94}\x94\x8c\rprompt_driver\x94}\x94(h\x01\x8c\x19GriptapeCloudPromptDriver\x94\x8c\x0btemperature\x94G?\xb9\x99\x99\x99\x99\x99\x9a\x8c\nmax_tokens\x94N\x8c\x06stream\x94\x89\x8c\x0cextra_params\x94}\x94\x8c\x05model\x94\x8c\x0cgpt-4.1-mini\x94\x8c\x1astructured_output_strategy\x94\x8c\x06native\x94u\x8c\x05tools\x94]\x94\x8c\x0cmax_subtasks\x94K\x14uau.'), 'b81cda28-8099-423f-90a1-b248d6e92526': pickle.loads(b'\x80\x04\x95\x10\x00\x00\x00\x00\x00\x00\x00\x8c\x0cgpt-4.1-mini\x94.'), '77c88056-37fd-40ac-8843-6cb0d57e3d51': pickle.loads(b'\x80\x04\x95\xda\x00\x00\x00\x00\x00\x00\x00\x8c\xd6Describe the hat from this image. Be specific about the shape and design. Include detailed reference to height, width, and creasing. Include specific details on brim shape, and any dents or textures in the surface.\x94.'), '01f6cd7d-7f54-4273-94b3-5d20e87d8396': pickle.loads(b'\x80\x04\x88.'), '1459a502-2dbe-46f5-8bad-b7c48fad5bc1': pickle.loads(b'\x80\x04\x95\x15\x00\x00\x00\x00\x00\x00\x00\x8c\x11Flux.2 [klein] 9B\x94.'), 'cc37c760-1c1d-4841-9e9e-6f97f1d257db': pickle.loads(b'\x80\x04\x95\x9f\x01\x00\x00\x00\x00\x00\x00]\x94\x8c%griptape.artifacts.image_url_artifact\x94\x8c\x10ImageUrlArtifact\x94\x93\x94)\x81\x94}\x94(\x8c\x04type\x94\x8c\x10ImageUrlArtifact\x94\x8c\x0bmodule_name\x94\x8c%griptape.artifacts.image_url_artifact\x94\x8c\x02id\x94\x8c 0e4a94c3cb434c9daa6b8c7c08eeaa6a\x94\x8c\treference\x94N\x8c\x04meta\x94}\x94\x8c\x04name\x94h\x0b\x8c\x16encoding_error_handler\x94\x8c\x06strict\x94\x8c\x08encoding\x94\x8c\x05utf-8\x94\x8c\x05value\x94\x8c\x7fhttp://localhost:8124/workspace/static_files/6a7dc663cb2b4ad4e42b05584699e7003971c66d247f3301e6ff42125321-edit.jpg?t=1766088547\x94uba.'), 'd6f310fc-8261-475f-ac29-bfde4c9ba200': pickle.loads(b'\x80\x04\x95\x04\x00\x00\x00\x00\x00\x00\x00M`\x05.'), '1c138072-785d-4780-8ddd-98f3ab0cc277': pickle.loads(b'\x80\x04\x95\x04\x00\x00\x00\x00\x00\x00\x00M\x00\x03.'), '97898d41-359e-43f3-aed1-1a01edfe482d': pickle.loads(b'\x80\x04K*.'), 'cfce9245-7360-4174-bee1-251fb139e5a0': pickle.loads(b'\x80\x04\x95\x08\x00\x00\x00\x00\x00\x00\x00\x8c\x04jpeg\x94.'), '2ae9e1cf-e5ac-459a-b9f6-0671840e25c4': pickle.loads(b'\x80\x04\x95\x15\x00\x00\x00\x00\x00\x00\x00\x8c\x11least restrictive\x94.'), '4b744809-30a5-496c-80b3-e949b317b5ff': pickle.loads(b'\x80\x04K2.'), '2b924d43-7598-4976-927c-57ea8b42fc5c': pickle.loads(b'\x80\x04\x95\n\x00\x00\x00\x00\x00\x00\x00G@\x12\x00\x00\x00\x00\x00\x00.'), '3c0f0f72-ddec-430b-9128-b0107cadfe1a': pickle.loads(b"\x80\x04\x95g\x00\x00\x00\x00\x00\x00\x00\x8ccsame hat viewed from a worm's eye 3/4 angle revealing the underside. light background, soft shadows\x94."), 'f1213d6a-c22f-4b4c-82b3-9f97ed390024': pickle.loads(b'\x80\x04]\x94.'), '57ec81e3-f3a5-4c7b-86d3-6820b41a5d87': pickle.loads(b'\x80\x04\x95\x07\x00\x00\x00\x00\x00\x00\x00\x8c\x03hat\x94.'), '34754d75-bc9b-4a3e-98b1-fd8277b62409': pickle.loads(b'\x80\x04]\x94.'), 'b42ed2f9-b3b3-4ed5-b4e0-033799777ce0': pickle.loads(b'\x80\x04\x95\n\x00\x00\x00\x00\x00\x00\x00\x8c\x06concat\x94.'), '0593a8be-a9fc-40a1-81be-31e42ec2c416': pickle.loads(b'\x80\x04\x95\x07\x00\x00\x00\x00\x00\x00\x00\x8c\x03glb\x94.'), '8c0e8806-0846-4339-b440-cb38b0a93fbf': pickle.loads(b'\x80\x04\x95\x07\x00\x00\x00\x00\x00\x00\x00\x8c\x03PBR\x94.'), '6d5fd8e5-8a80-4ad4-a792-cc7b80464618': pickle.loads(b'\x80\x04\x95\n\x00\x00\x00\x00\x00\x00\x00\x8c\x06medium\x94.'), 'cffff38d-20c2-43f2-8a56-8ed132196490': pickle.loads(b'\x80\x04\x95\x08\x00\x00\x00\x00\x00\x00\x00\x8c\x04Quad\x94.')}

'# Create the Flow, then do work within it as context.'

flow0_name = GriptapeNodes.handle_request(CreateFlowRequest(parent_flow_name=None, flow_name='ControlFlow_1', set_as_new_context=False, metadata={})).flow_name

with GriptapeNodes.ContextManager().flow(flow0_name):
    node0_name = GriptapeNodes.handle_request(CreateNodeRequest(node_type='StartFlow', specific_library_name='Griptape Nodes Library', node_name='Start Flow', metadata={'position': {'x': -1079.3184088273833, 'y': 166.3418546447166}, 'tempId': 'placing-1765996350930-qa8fpl', 'library_node_metadata': NodeMetadata(category='workflows', description='Define the start of a workflow and pass parameters into the flow', display_name='Start Flow', tags=None, icon=None, color=None, group='create', deprecation=None, is_node_group=None), 'library': 'Griptape Nodes Library', 'node_type': 'StartFlow', 'showaddparameter': True, 'size': {'width': 603, 'height': 433}, 'category': 'workflows'}, resolution='resolved', initial_setup=True)).node_name
    with GriptapeNodes.ContextManager().node(node0_name):
        GriptapeNodes.handle_request(AddParameterToNodeRequest(parameter_name='image_url', default_value='https://images.pdimagearchive.org/collections/posed-portraits-of-19th-century-baseball-stars/4051199982_718521f59f_z.jpg?zz=1?width=438&height=800', tooltip='Enter text/string for image_url.', type='str', input_types=['str'], output_type='str', ui_options={'is_custom': True, 'is_user_added': True}, mode_allowed_input=False, mode_allowed_property=True, mode_allowed_output=True, initial_setup=True))
        GriptapeNodes.handle_request(AddParameterToNodeRequest(parameter_name='image', default_value='', tooltip='New parameter', type='ImageUrlArtifact', input_types=['ImageUrlArtifact', 'ImageArtifact', 'str'], output_type='ImageUrlArtifact', ui_options={'clickable_file_browser': True, 'expander': True, 'edit_mask': True, 'display_name': 'image', 'is_custom': True, 'is_user_added': True, 'hide': False}, mode_allowed_input=True, mode_allowed_property=True, mode_allowed_output=True, parent_container_name='', initial_setup=True))
    node1_name = GriptapeNodes.handle_request(CreateNodeRequest(node_type='LoadImage', specific_library_name='Griptape Nodes Library', node_name='Load Image', metadata={'position': {'x': -314.31840882738334, 'y': 166.3418546447166}, 'tempId': 'placing-1766027122379-tyn6li', 'library_node_metadata': NodeMetadata(category='image', description='Loads an image from disk', display_name='Load Image', tags=None, icon='image-up', color=None, group='Input/Output', deprecation=None, is_node_group=None), 'library': 'Griptape Nodes Library', 'node_type': 'LoadImage', 'showaddparameter': False, 'size': {'width': 600, 'height': 540}, 'category': 'image'}, resolution='resolved', initial_setup=True)).node_name
    with GriptapeNodes.ContextManager().node(node1_name):
        GriptapeNodes.handle_request(AlterParameterDetailsRequest(parameter_name='image', settable=False, initial_setup=True))
        GriptapeNodes.handle_request(AlterParameterDetailsRequest(parameter_name='path', settable=False, initial_setup=True))
    node2_name = GriptapeNodes.handle_request(CreateNodeRequest(node_type='Note', specific_library_name='Griptape Nodes Library', node_name='Workflow Description', metadata={'position': {'x': -1079.3184088273833, 'y': -637.7329772284488}, 'tempId': 'placing-1766077471138-5mp4lm', 'library_node_metadata': NodeMetadata(category='misc', description='Create a note node to provide helpful context in your workflow', display_name='Note', tags=None, icon='notepad-text', color=None, group='create', deprecation=None, is_node_group=None), 'library': 'Griptape Nodes Library', 'node_type': 'Note', 'showaddparameter': False, 'size': {'width': 743, 'height': 424}, 'category': 'misc'}, initial_setup=True)).node_name
    node3_name = GriptapeNodes.handle_request(CreateNodeRequest(node_type='Note', specific_library_name='Griptape Nodes Library', node_name='Step 1', metadata={'position': {'x': -1079.3184088273833, 'y': -108.15814535528341}, 'tempId': 'placing-1766003334530-pnkgh', 'library_node_metadata': NodeMetadata(category='misc', description='Create a note node to provide helpful context in your workflow', display_name='Note', tags=None, icon='notepad-text', color=None, group='create', deprecation=None, is_node_group=None), 'library': 'Griptape Nodes Library', 'node_type': 'Note', 'showaddparameter': False, 'size': {'width': 1365, 'height': 242}, 'category': 'misc'}, resolution='resolved', initial_setup=True)).node_name
    node4_name = GriptapeNodes.handle_request(CreateNodeRequest(node_type='Note', specific_library_name='Griptape Nodes Library', node_name='Step 2', metadata={'position': {'x': 511.1197906682836, 'y': -109.15814535528341}, 'tempId': 'placing-1766029587785-4avcqn', 'library_node_metadata': NodeMetadata(category='misc', description='Create a note node to provide helpful context in your workflow', display_name='Note', tags=None, icon='notepad-text', color=None, group='create', deprecation=None, is_node_group=None), 'library': 'Griptape Nodes Library', 'node_type': 'Note', 'showaddparameter': False, 'size': {'width': 600, 'height': 192}, 'category': 'misc'}, initial_setup=True)).node_name
    node5_name = GriptapeNodes.handle_request(CreateNodeRequest(node_type='Note', specific_library_name='Griptape Nodes Library', node_name='Step 3', metadata={'position': {'x': 1309.040155645493, 'y': -109.15814535528341}, 'tempId': 'placing-1766003370124-fo9hq', 'library_node_metadata': NodeMetadata(category='misc', description='Create a note node to provide helpful context in your workflow', display_name='Note', tags=None, icon='notepad-text', color=None, group='create', deprecation=None, is_node_group=None), 'library': 'Griptape Nodes Library', 'node_type': 'Note', 'showaddparameter': False, 'size': {'width': 600, 'height': 196}, 'category': 'misc'}, initial_setup=True)).node_name
    node6_name = GriptapeNodes.handle_request(CreateNodeRequest(node_type='MergeTexts', specific_library_name='Griptape Nodes Library', node_name='Merge Texts', metadata={'position': {'x': 1309.040155645493, 'y': 166.3418546447166}, 'tempId': 'placing-1766082110482-wb2nal', 'library_node_metadata': NodeMetadata(category='text', description='MergeTexts node', display_name='Merge Texts', tags=None, icon='merge', color=None, group='merge', deprecation=None, is_node_group=None), 'library': 'Griptape Nodes Library', 'node_type': 'MergeTexts', 'showaddparameter': False, 'size': {'width': 600, 'height': 500}, 'category': 'text'}, resolution='resolved', initial_setup=True)).node_name
    node7_name = GriptapeNodes.handle_request(CreateNodeRequest(node_type='EndFlow', specific_library_name='Griptape Nodes Library', node_name='End Flow', metadata={'library_node_metadata': NodeMetadata(category='workflows', description='Define the end of a workflow and return parameters from the flow', display_name='End Flow', tags=None, icon=None, color=None, group='create', deprecation=None, is_node_group=None), 'library': 'Griptape Nodes Library', 'node_type': 'EndFlow', 'showaddparameter': True, 'position': {'x': 4424.484610936857, 'y': 166.3418546447166}, 'size': {'width': 945, 'height': 1244}, 'category': 'workflows'}, initial_setup=True)).node_name
    with GriptapeNodes.ContextManager().node(node7_name):
        GriptapeNodes.handle_request(AddParameterToNodeRequest(parameter_name='model_url', default_value='', tooltip='New parameter', type='ThreeDUrlArtifact', input_types=['ThreeDUrlArtifact'], output_type='ThreeDUrlArtifact', ui_options={'is_full_width': True, 'pulse_on_run': True, 'display_name': '3D Model', 'is_custom': True, 'is_user_added': True}, mode_allowed_input=True, mode_allowed_property=True, mode_allowed_output=True, parent_container_name='', initial_setup=True))
        GriptapeNodes.handle_request(AddParameterToNodeRequest(parameter_name='image', default_value='', tooltip='New parameter', type='ImageUrlArtifact', input_types=['ImageUrlArtifact'], output_type='ImageUrlArtifact', ui_options={'is_full_width': True, 'pulse_on_run': True, 'is_custom': True, 'is_user_added': True}, mode_allowed_input=True, mode_allowed_property=True, mode_allowed_output=True, parent_container_name='', initial_setup=True))
        GriptapeNodes.handle_request(AddParameterToNodeRequest(parameter_name='image_1', default_value='', tooltip='New parameter', type='ImageUrlArtifact', input_types=['ImageUrlArtifact'], output_type='ImageUrlArtifact', ui_options={'is_full_width': True, 'pulse_on_run': True, 'is_custom': True, 'is_user_added': True}, mode_allowed_input=True, mode_allowed_property=True, mode_allowed_output=True, parent_container_name='', initial_setup=True))
    node8_name = GriptapeNodes.handle_request(CreateNodeRequest(node_type='Note', specific_library_name='Griptape Nodes Library', node_name='Step 6', metadata={'position': {'x': 4424.484610936857, 'y': -109.15814535528341}, 'tempId': 'placing-1766003370124-fo9hq', 'library_node_metadata': NodeMetadata(category='misc', description='Create a note node to provide helpful context in your workflow', display_name='Note', tags=None, icon='notepad-text', color=None, group='create', deprecation=None, is_node_group=None), 'library': 'Griptape Nodes Library', 'node_type': 'Note', 'showaddparameter': False, 'size': {'width': 600, 'height': 163}, 'category': 'misc'}, initial_setup=True)).node_name
    node9_name = GriptapeNodes.handle_request(CreateNodeRequest(node_type='Note', specific_library_name='Griptape Nodes Library', node_name='Step 4', metadata={'position': {'x': 2015.6453451374286, 'y': -109.15814535528341}, 'tempId': 'placing-1766003370124-fo9hq', 'library_node_metadata': NodeMetadata(category='misc', description='Create a note node to provide helpful context in your workflow', display_name='Note', tags=None, icon='notepad-text', color=None, group='create', deprecation=None, is_node_group=None), 'library': 'Griptape Nodes Library', 'node_type': 'Note', 'showaddparameter': False, 'size': {'width': 1219, 'height': 208}, 'category': 'misc'}, initial_setup=True)).node_name
    node10_name = GriptapeNodes.handle_request(CreateNodeRequest(node_type='Note', specific_library_name='Griptape Nodes Library', node_name='Step 5', metadata={'position': {'x': 3550.4141023772922, 'y': -109.15814535528341}, 'tempId': 'placing-1766003370124-fo9hq', 'library_node_metadata': NodeMetadata(category='misc', description='Create a note node to provide helpful context in your workflow', display_name='Note', tags=None, icon='notepad-text', color=None, group='create', deprecation=None, is_node_group=None), 'library': 'Griptape Nodes Library', 'node_type': 'Note', 'showaddparameter': False, 'size': {'width': 607, 'height': 207}, 'category': 'misc'}, initial_setup=True)).node_name
    node11_name = GriptapeNodes.handle_request(CreateNodeRequest(node_type='DescribeImage', specific_library_name='Griptape Nodes Library', node_name='Describe Image', metadata={'library_node_metadata': NodeMetadata(category='image', description='Can be used to describe an image', display_name='Describe Image', tags=None, icon=None, color=None, group='describe', deprecation=None, is_node_group=None), 'library': 'Griptape Nodes Library', 'node_type': 'DescribeImage', 'position': {'x': 511.1197906682836, 'y': 166.3418546447166}, 'size': {'width': 600, 'height': 990}}, resolution='resolved', initial_setup=True)).node_name
    node12_name = GriptapeNodes.handle_request(CreateNodeRequest(node_type='Flux2ImageGeneration', specific_library_name='Griptape Nodes Library', node_name='FLUX.2 Image Generation_1', metadata={'library_node_metadata': {'category': 'image', 'description': 'Generate images using FLUX.2 models via Griptape model proxy'}, 'library': 'Griptape Nodes Library', 'node_type': 'Flux2ImageGeneration', 'position': {'x': 2015.6453451374286, 'y': 166.3418546447166}, 'size': {'width': 699, 'height': 1475}, 'showaddparameter': False, 'category': 'image'}, initial_setup=True)).node_name
    with GriptapeNodes.ContextManager().node(node12_name):
        GriptapeNodes.handle_request(AddParameterToNodeRequest(parameter_name='input_images_ParameterListUniqueParamID_0bcd26854c754ea9b6a45983dca8c1b2', default_value=[], tooltip='Optional input images for image-to-image generation (supports up to 20MB or 20 megapixels)', type='ImageArtifact', input_types=['ImageArtifact', 'ImageUrlArtifact', 'str', 'list', 'list[ImageArtifact]', 'list[ImageUrlArtifact]'], output_type='ImageArtifact', ui_options={'expander': True, 'display_name': 'Input Images'}, mode_allowed_input=True, mode_allowed_property=True, mode_allowed_output=False, is_user_defined=True, settable=True, parent_container_name='input_images', initial_setup=True))
    node13_name = GriptapeNodes.handle_request(CreateNodeRequest(node_type='Flux2ImageGeneration', specific_library_name='Griptape Nodes Library', node_name='FLUX.2 Image Generation', metadata={'library_node_metadata': {'category': 'image', 'description': 'Generate images using FLUX.2 models via Griptape model proxy'}, 'library': 'Griptape Nodes Library', 'node_type': 'Flux2ImageGeneration', 'position': {'x': 2785.261814043148, 'y': 166.3418546447166}, 'size': {'width': 699, 'height': 1475}, 'showaddparameter': False, 'category': 'image'}, initial_setup=True)).node_name
    with GriptapeNodes.ContextManager().node(node13_name):
        GriptapeNodes.handle_request(AddParameterToNodeRequest(parameter_name='input_images_ParameterListUniqueParamID_f2d7fc9dc388472782115353eb172892', default_value=[], tooltip='Optional input images for image-to-image generation (supports up to 20MB or 20 megapixels)', type='ImageArtifact', input_types=['ImageArtifact', 'ImageUrlArtifact', 'str', 'list', 'list[ImageArtifact]', 'list[ImageUrlArtifact]'], output_type='ImageArtifact', ui_options={'expander': True, 'display_name': 'Input Images'}, mode_allowed_input=True, mode_allowed_property=True, mode_allowed_output=False, is_user_defined=True, settable=True, parent_container_name='input_images', initial_setup=True))
    node14_name = GriptapeNodes.handle_request(CreateNodeRequest(node_type='Rodin23DGeneration', specific_library_name='Griptape Nodes Library', node_name='Rodin 3D Generation', metadata={'library_node_metadata': NodeMetadata(category='3D', description='Generate 3D models using Rodin Gen-2 via Griptape model proxy', display_name='Rodin 3D Generation', tags=None, icon=None, color=None, group='create', deprecation=None, is_node_group=None), 'library': 'Griptape Nodes Library', 'node_type': 'Rodin23DGeneration', 'position': {'x': 3550.4141023772922, 'y': 166.3418546447166}, 'size': {'width': 600, 'height': 1422}}, initial_setup=True)).node_name
    with GriptapeNodes.ContextManager().node(node14_name):
        GriptapeNodes.handle_request(AddParameterToNodeRequest(parameter_name='input_images_ParameterListUniqueParamID_b958b2e2df4644bbbef1e06dd0f7d5d7', default_value=[], tooltip='Optional input images for Image-to-3D generation (up to 5 images)', type='ImageArtifact', input_types=['ImageArtifact', 'ImageUrlArtifact', 'str', 'list', 'list[ImageArtifact]', 'list[ImageUrlArtifact]'], output_type='ImageArtifact', ui_options={'expander': True, 'display_name': 'Input Images'}, mode_allowed_input=True, mode_allowed_property=True, mode_allowed_output=False, is_user_defined=True, settable=True, parent_container_name='input_images', initial_setup=True))
        GriptapeNodes.handle_request(AddParameterToNodeRequest(parameter_name='input_images_ParameterListUniqueParamID_aebd848451ae4a7e9d5bcd7bba2c3867', default_value=[], tooltip='Optional input images for Image-to-3D generation (up to 5 images)', type='ImageArtifact', input_types=['ImageArtifact', 'ImageUrlArtifact', 'str', 'list', 'list[ImageArtifact]', 'list[ImageUrlArtifact]'], output_type='ImageArtifact', ui_options={'expander': True, 'display_name': 'Input Images'}, mode_allowed_input=True, mode_allowed_property=True, mode_allowed_output=False, is_user_defined=True, settable=True, parent_container_name='input_images', initial_setup=True))
    GriptapeNodes.handle_request(CreateConnectionRequest(source_node_name=node0_name, source_parameter_name='image_url', target_node_name=node1_name, target_parameter_name='image', initial_setup=True))
    GriptapeNodes.handle_request(CreateConnectionRequest(source_node_name=node1_name, source_parameter_name='image', target_node_name=node11_name, target_parameter_name='image', initial_setup=True))
    GriptapeNodes.handle_request(CreateConnectionRequest(source_node_name=node11_name, source_parameter_name='output', target_node_name=node6_name, target_parameter_name='input_2', initial_setup=True))
    GriptapeNodes.handle_request(CreateConnectionRequest(source_node_name=node6_name, source_parameter_name='output', target_node_name=node12_name, target_parameter_name='prompt', initial_setup=True))
    GriptapeNodes.handle_request(CreateConnectionRequest(source_node_name=node11_name, source_parameter_name='image', target_node_name=node12_name, target_parameter_name='input_images_ParameterListUniqueParamID_0bcd26854c754ea9b6a45983dca8c1b2', initial_setup=True))
    GriptapeNodes.handle_request(CreateConnectionRequest(source_node_name=node12_name, source_parameter_name='image_url', target_node_name=node13_name, target_parameter_name='input_images_ParameterListUniqueParamID_f2d7fc9dc388472782115353eb172892', initial_setup=True))
    GriptapeNodes.handle_request(CreateConnectionRequest(source_node_name=node14_name, source_parameter_name='model_url', target_node_name=node7_name, target_parameter_name='model_url', initial_setup=True))
    GriptapeNodes.handle_request(CreateConnectionRequest(source_node_name=node12_name, source_parameter_name='image_url', target_node_name=node14_name, target_parameter_name='input_images_ParameterListUniqueParamID_b958b2e2df4644bbbef1e06dd0f7d5d7', initial_setup=True))
    GriptapeNodes.handle_request(CreateConnectionRequest(source_node_name=node13_name, source_parameter_name='image_url', target_node_name=node14_name, target_parameter_name='input_images_ParameterListUniqueParamID_aebd848451ae4a7e9d5bcd7bba2c3867', initial_setup=True))
    GriptapeNodes.handle_request(CreateConnectionRequest(source_node_name=node12_name, source_parameter_name='image_url', target_node_name=node7_name, target_parameter_name='image', initial_setup=True))
    GriptapeNodes.handle_request(CreateConnectionRequest(source_node_name=node13_name, source_parameter_name='image_url', target_node_name=node7_name, target_parameter_name='image_1', initial_setup=True))
    with GriptapeNodes.ContextManager().node(node0_name):
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='image_url', node_name=node0_name, value=top_level_unique_values_dict['c85fc84f-ed9c-46de-aee3-ad9ce8cfd266'], initial_setup=True, is_output=False))
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='image', node_name=node0_name, value=top_level_unique_values_dict['9813daa2-3c1a-4cf1-9384-ebeae6a4157a'], initial_setup=True, is_output=False))
    with GriptapeNodes.ContextManager().node(node1_name):
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='image', node_name=node1_name, value=top_level_unique_values_dict['6b9fb11b-f54b-4ff1-8fc1-b6931ca608c5'], initial_setup=True, is_output=False))
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='image', node_name=node1_name, value=top_level_unique_values_dict['6b9fb11b-f54b-4ff1-8fc1-b6931ca608c5'], initial_setup=True, is_output=True))
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='path', node_name=node1_name, value=top_level_unique_values_dict['628a8135-6dc2-4ca8-b2de-e663822288f6'], initial_setup=True, is_output=False))
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='path', node_name=node1_name, value=top_level_unique_values_dict['628a8135-6dc2-4ca8-b2de-e663822288f6'], initial_setup=True, is_output=True))
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='mask_channel', node_name=node1_name, value=top_level_unique_values_dict['26cef384-4f3f-424b-a112-e8469944fc71'], initial_setup=True, is_output=False))
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='was_successful', node_name=node1_name, value=top_level_unique_values_dict['3e7098a1-57ff-4a69-85a0-fb6aad57b4f8'], initial_setup=True, is_output=False))
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='was_successful', node_name=node1_name, value=top_level_unique_values_dict['3e7098a1-57ff-4a69-85a0-fb6aad57b4f8'], initial_setup=True, is_output=True))
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='result_details', node_name=node1_name, value=top_level_unique_values_dict['c4dccf11-d1b7-431a-9dc3-574acd4b00de'], initial_setup=True, is_output=False))
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='result_details', node_name=node1_name, value=top_level_unique_values_dict['c4dccf11-d1b7-431a-9dc3-574acd4b00de'], initial_setup=True, is_output=True))
    with GriptapeNodes.ContextManager().node(node2_name):
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='note', node_name=node2_name, value=top_level_unique_values_dict['2ecec6ad-9a9c-4d4d-8a7b-50d52d4119ea'], initial_setup=True, is_output=False))
    with GriptapeNodes.ContextManager().node(node3_name):
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='note', node_name=node3_name, value=top_level_unique_values_dict['ccf33a1b-687e-405b-b0c8-a7aec0db9f39'], initial_setup=True, is_output=False))
    with GriptapeNodes.ContextManager().node(node4_name):
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='note', node_name=node4_name, value=top_level_unique_values_dict['ea9e5fb5-6ab7-4228-9ca3-9907e525c314'], initial_setup=True, is_output=False))
    with GriptapeNodes.ContextManager().node(node5_name):
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='note', node_name=node5_name, value=top_level_unique_values_dict['8303b552-f54a-4351-875c-ae0a4f686452'], initial_setup=True, is_output=False))
    with GriptapeNodes.ContextManager().node(node6_name):
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='input_1', node_name=node6_name, value=top_level_unique_values_dict['ee41f1d5-3fbc-4611-a45c-b719e2df3126'], initial_setup=True, is_output=False))
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='input_2', node_name=node6_name, value=top_level_unique_values_dict['aa86833d-1c95-4409-81b6-1eebac09e909'], initial_setup=True, is_output=False))
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='input_3', node_name=node6_name, value=top_level_unique_values_dict['70d8f80b-ed65-4c24-9d44-1b24e71f06e0'], initial_setup=True, is_output=False))
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='merge_string', node_name=node6_name, value=top_level_unique_values_dict['fe913f49-a36c-4152-b362-655a8a019463'], initial_setup=True, is_output=False))
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='whitespace', node_name=node6_name, value=top_level_unique_values_dict['3e7098a1-57ff-4a69-85a0-fb6aad57b4f8'], initial_setup=True, is_output=False))
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='output', node_name=node6_name, value=top_level_unique_values_dict['94964b6b-ee3a-4bcc-a2ec-f58c7e880e71'], initial_setup=True, is_output=False))
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='output', node_name=node6_name, value=top_level_unique_values_dict['94964b6b-ee3a-4bcc-a2ec-f58c7e880e71'], initial_setup=True, is_output=True))
    with GriptapeNodes.ContextManager().node(node7_name):
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='was_successful', node_name=node7_name, value=top_level_unique_values_dict['3e7098a1-57ff-4a69-85a0-fb6aad57b4f8'], initial_setup=True, is_output=False))
    with GriptapeNodes.ContextManager().node(node8_name):
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='note', node_name=node8_name, value=top_level_unique_values_dict['e7e42d08-3b07-43e3-8072-1b8150c2ec90'], initial_setup=True, is_output=False))
    with GriptapeNodes.ContextManager().node(node9_name):
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='note', node_name=node9_name, value=top_level_unique_values_dict['4caa3062-88bf-45d0-8dd1-41463b664587'], initial_setup=True, is_output=False))
    with GriptapeNodes.ContextManager().node(node10_name):
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='note', node_name=node10_name, value=top_level_unique_values_dict['a6201b88-8520-4ddb-aa80-e786b81ec574'], initial_setup=True, is_output=False))
    with GriptapeNodes.ContextManager().node(node11_name):
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='agent', node_name=node11_name, value=top_level_unique_values_dict['05e3dfe3-9c8c-4dcc-9647-b701b247c723'], initial_setup=True, is_output=True))
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='model', node_name=node11_name, value=top_level_unique_values_dict['b81cda28-8099-423f-90a1-b248d6e92526'], initial_setup=True, is_output=False))
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='image', node_name=node11_name, value=top_level_unique_values_dict['6b9fb11b-f54b-4ff1-8fc1-b6931ca608c5'], initial_setup=True, is_output=False))
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='prompt', node_name=node11_name, value=top_level_unique_values_dict['77c88056-37fd-40ac-8843-6cb0d57e3d51'], initial_setup=True, is_output=False))
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='description_only', node_name=node11_name, value=top_level_unique_values_dict['01f6cd7d-7f54-4273-94b3-5d20e87d8396'], initial_setup=True, is_output=False))
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='output', node_name=node11_name, value=top_level_unique_values_dict['aa86833d-1c95-4409-81b6-1eebac09e909'], initial_setup=True, is_output=True))
    with GriptapeNodes.ContextManager().node(node12_name):
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='model', node_name=node12_name, value=top_level_unique_values_dict['1459a502-2dbe-46f5-8bad-b7c48fad5bc1'], initial_setup=True, is_output=False))
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='prompt', node_name=node12_name, value=top_level_unique_values_dict['94964b6b-ee3a-4bcc-a2ec-f58c7e880e71'], initial_setup=True, is_output=False))
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='input_images', node_name=node12_name, value=top_level_unique_values_dict['cc37c760-1c1d-4841-9e9e-6f97f1d257db'], initial_setup=True, is_output=False))
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='input_images_ParameterListUniqueParamID_0bcd26854c754ea9b6a45983dca8c1b2', node_name=node12_name, value=top_level_unique_values_dict['6b9fb11b-f54b-4ff1-8fc1-b6931ca608c5'], initial_setup=True, is_output=False))
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='width', node_name=node12_name, value=top_level_unique_values_dict['d6f310fc-8261-475f-ac29-bfde4c9ba200'], initial_setup=True, is_output=False))
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='height', node_name=node12_name, value=top_level_unique_values_dict['1c138072-785d-4780-8ddd-98f3ab0cc277'], initial_setup=True, is_output=False))
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='force_output_dimension', node_name=node12_name, value=top_level_unique_values_dict['3e7098a1-57ff-4a69-85a0-fb6aad57b4f8'], initial_setup=True, is_output=False))
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='randomize_seed', node_name=node12_name, value=top_level_unique_values_dict['3e7098a1-57ff-4a69-85a0-fb6aad57b4f8'], initial_setup=True, is_output=False))
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='seed', node_name=node12_name, value=top_level_unique_values_dict['97898d41-359e-43f3-aed1-1a01edfe482d'], initial_setup=True, is_output=False))
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='output_format', node_name=node12_name, value=top_level_unique_values_dict['cfce9245-7360-4174-bee1-251fb139e5a0'], initial_setup=True, is_output=False))
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='safety_tolerance', node_name=node12_name, value=top_level_unique_values_dict['2ae9e1cf-e5ac-459a-b9f6-0671840e25c4'], initial_setup=True, is_output=False))
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='steps', node_name=node12_name, value=top_level_unique_values_dict['4b744809-30a5-496c-80b3-e949b317b5ff'], initial_setup=True, is_output=False))
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='guidance', node_name=node12_name, value=top_level_unique_values_dict['2b924d43-7598-4976-927c-57ea8b42fc5c'], initial_setup=True, is_output=False))
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='was_successful', node_name=node12_name, value=top_level_unique_values_dict['3e7098a1-57ff-4a69-85a0-fb6aad57b4f8'], initial_setup=True, is_output=False))
    with GriptapeNodes.ContextManager().node(node13_name):
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='model', node_name=node13_name, value=top_level_unique_values_dict['1459a502-2dbe-46f5-8bad-b7c48fad5bc1'], initial_setup=True, is_output=False))
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='prompt', node_name=node13_name, value=top_level_unique_values_dict['3c0f0f72-ddec-430b-9128-b0107cadfe1a'], initial_setup=True, is_output=False))
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='input_images', node_name=node13_name, value=top_level_unique_values_dict['f1213d6a-c22f-4b4c-82b3-9f97ed390024'], initial_setup=True, is_output=False))
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='width', node_name=node13_name, value=top_level_unique_values_dict['d6f310fc-8261-475f-ac29-bfde4c9ba200'], initial_setup=True, is_output=False))
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='height', node_name=node13_name, value=top_level_unique_values_dict['d6f310fc-8261-475f-ac29-bfde4c9ba200'], initial_setup=True, is_output=False))
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='force_output_dimension', node_name=node13_name, value=top_level_unique_values_dict['3e7098a1-57ff-4a69-85a0-fb6aad57b4f8'], initial_setup=True, is_output=False))
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='randomize_seed', node_name=node13_name, value=top_level_unique_values_dict['3e7098a1-57ff-4a69-85a0-fb6aad57b4f8'], initial_setup=True, is_output=False))
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='seed', node_name=node13_name, value=top_level_unique_values_dict['97898d41-359e-43f3-aed1-1a01edfe482d'], initial_setup=True, is_output=False))
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='output_format', node_name=node13_name, value=top_level_unique_values_dict['cfce9245-7360-4174-bee1-251fb139e5a0'], initial_setup=True, is_output=False))
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='safety_tolerance', node_name=node13_name, value=top_level_unique_values_dict['2ae9e1cf-e5ac-459a-b9f6-0671840e25c4'], initial_setup=True, is_output=False))
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='steps', node_name=node13_name, value=top_level_unique_values_dict['4b744809-30a5-496c-80b3-e949b317b5ff'], initial_setup=True, is_output=False))
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='guidance', node_name=node13_name, value=top_level_unique_values_dict['2b924d43-7598-4976-927c-57ea8b42fc5c'], initial_setup=True, is_output=False))
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='was_successful', node_name=node13_name, value=top_level_unique_values_dict['3e7098a1-57ff-4a69-85a0-fb6aad57b4f8'], initial_setup=True, is_output=False))
    with GriptapeNodes.ContextManager().node(node14_name):
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='prompt', node_name=node14_name, value=top_level_unique_values_dict['57ec81e3-f3a5-4c7b-86d3-6820b41a5d87'], initial_setup=True, is_output=False))
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='input_images', node_name=node14_name, value=top_level_unique_values_dict['34754d75-bc9b-4a3e-98b1-fd8277b62409'], initial_setup=True, is_output=False))
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='condition_mode', node_name=node14_name, value=top_level_unique_values_dict['b42ed2f9-b3b3-4ed5-b4e0-033799777ce0'], initial_setup=True, is_output=False))
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='geometry_file_format', node_name=node14_name, value=top_level_unique_values_dict['0593a8be-a9fc-40a1-81be-31e42ec2c416'], initial_setup=True, is_output=False))
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='material', node_name=node14_name, value=top_level_unique_values_dict['8c0e8806-0846-4339-b440-cb38b0a93fbf'], initial_setup=True, is_output=False))
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='quality', node_name=node14_name, value=top_level_unique_values_dict['6d5fd8e5-8a80-4ad4-a792-cc7b80464618'], initial_setup=True, is_output=False))
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='mesh_mode', node_name=node14_name, value=top_level_unique_values_dict['cffff38d-20c2-43f2-8a56-8ed132196490'], initial_setup=True, is_output=False))
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='use_original_alpha', node_name=node14_name, value=top_level_unique_values_dict['3e7098a1-57ff-4a69-85a0-fb6aad57b4f8'], initial_setup=True, is_output=False))
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='ta_pose', node_name=node14_name, value=top_level_unique_values_dict['3e7098a1-57ff-4a69-85a0-fb6aad57b4f8'], initial_setup=True, is_output=False))
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='bbox_condition', node_name=node14_name, value=top_level_unique_values_dict['9813daa2-3c1a-4cf1-9384-ebeae6a4157a'], initial_setup=True, is_output=False))
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='high_pack', node_name=node14_name, value=top_level_unique_values_dict['3e7098a1-57ff-4a69-85a0-fb6aad57b4f8'], initial_setup=True, is_output=False))
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='preview_render', node_name=node14_name, value=top_level_unique_values_dict['3e7098a1-57ff-4a69-85a0-fb6aad57b4f8'], initial_setup=True, is_output=False))
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='randomize_seed', node_name=node14_name, value=top_level_unique_values_dict['3e7098a1-57ff-4a69-85a0-fb6aad57b4f8'], initial_setup=True, is_output=False))
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='seed', node_name=node14_name, value=top_level_unique_values_dict['97898d41-359e-43f3-aed1-1a01edfe482d'], initial_setup=True, is_output=False))
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='was_successful', node_name=node14_name, value=top_level_unique_values_dict['3e7098a1-57ff-4a69-85a0-fb6aad57b4f8'], initial_setup=True, is_output=False))

def _ensure_workflow_context():
    context_manager = GriptapeNodes.ContextManager()
    if not context_manager.has_current_flow():
        top_level_flow_request = GetTopLevelFlowRequest()
        top_level_flow_result = GriptapeNodes.handle_request(top_level_flow_request)
        if isinstance(top_level_flow_result, GetTopLevelFlowResultSuccess) and top_level_flow_result.flow_name is not None:
            flow_manager = GriptapeNodes.FlowManager()
            flow_obj = flow_manager.get_flow_by_name(top_level_flow_result.flow_name)
            context_manager.push_flow(flow_obj)

def execute_workflow(input: dict, storage_backend: str='local', workflow_executor: WorkflowExecutor | None=None, pickle_control_flow_result: bool=False) -> dict | None:
    return asyncio.run(aexecute_workflow(input=input, storage_backend=storage_backend, workflow_executor=workflow_executor, pickle_control_flow_result=pickle_control_flow_result))

async def aexecute_workflow(input: dict, storage_backend: str='local', workflow_executor: WorkflowExecutor | None=None, pickle_control_flow_result: bool=False) -> dict | None:
    _ensure_workflow_context()
    storage_backend_enum = StorageBackend(storage_backend)
    workflow_executor = workflow_executor or LocalWorkflowExecutor(storage_backend=storage_backend_enum)
    async with workflow_executor as executor:
        await executor.arun(flow_input=input, pickle_control_flow_result=pickle_control_flow_result)
    return executor.output

if __name__ == '__main__':
    parser = argparse.ArgumentParser()
    parser.add_argument('--storage-backend', choices=['local', 'gtc'], default='local', help="Storage backend to use: 'local' for local filesystem or 'gtc' for Griptape Cloud")
    parser.add_argument('--json-input', default=None, help='JSON string containing parameter values. Takes precedence over individual parameter arguments if provided.')
    parser.add_argument('--exec_out', default=None, help='Connection to the next node in the execution chain')
    parser.add_argument('--image_url', default=None, help='Enter text/string for image_url.')
    parser.add_argument('--image', default=None, help='New parameter')
    args = parser.parse_args()
    flow_input = {}
    if args.json_input is not None:
        flow_input = json.loads(args.json_input)
    if args.json_input is None:
        if 'Start Flow' not in flow_input:
            flow_input['Start Flow'] = {}
        if args.exec_out is not None:
            flow_input['Start Flow']['exec_out'] = args.exec_out
        if args.image_url is not None:
            flow_input['Start Flow']['image_url'] = args.image_url
        if args.image is not None:
            flow_input['Start Flow']['image'] = args.image
    workflow_output = execute_workflow(input=flow_input, storage_backend=args.storage_backend)
    print(workflow_output)
