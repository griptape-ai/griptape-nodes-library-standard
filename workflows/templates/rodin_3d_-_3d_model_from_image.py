# /// script
# dependencies = []
# 
# [tool.griptape-nodes]
# name = "Rodin 3D - 3D Model from Image"
# schema_version = "0.14.0"
# engine_version_created_with = "0.66.0"
# node_libraries_referenced = [["Griptape Nodes Library", "0.52.9"]]
# node_types_used = [["Griptape Nodes Library", "DescribeImage"], ["Griptape Nodes Library", "EndFlow"], ["Griptape Nodes Library", "GoogleImageGeneration"], ["Griptape Nodes Library", "LoadImage"], ["Griptape Nodes Library", "MergeTexts"], ["Griptape Nodes Library", "Note"], ["Griptape Nodes Library", "Rodin23DGeneration"], ["Griptape Nodes Library", "StartFlow"]]
# description = "Generate a 3D model from an image using Hyper3D Rodin, Google Gemini Nano Banana Pro, and OpenAI gpt-4.1-mini."
# is_griptape_provided = true
# is_template = true
# creation_date = 2025-12-18T17:03:44.209505Z
# last_modified_date = "2025-12-18T21:34:43.294081Z"
# workflow_shape = "{\"inputs\":{\"Start Flow\":{\"exec_out\":{\"name\":\"exec_out\",\"tooltip\":\"Connection to the next node in the execution chain\",\"type\":\"parametercontroltype\",\"input_types\":[\"parametercontroltype\"],\"output_type\":\"parametercontroltype\",\"default_value\":null,\"tooltip_as_input\":null,\"tooltip_as_property\":null,\"tooltip_as_output\":null,\"ui_options\":{\"display_name\":\"Flow Out\"},\"settable\":true,\"is_user_defined\":true,\"parent_container_name\":null,\"parent_element_name\":null},\"image_url\":{\"name\":\"image_url\",\"tooltip\":\"Enter text/string for image_url.\",\"type\":\"str\",\"input_types\":[\"str\"],\"output_type\":\"str\",\"default_value\":\"https://images.pdimagearchive.org/collections/posed-portraits-of-19th-century-baseball-stars/4051199982_718521f59f_z.jpg?zz=1?width=438&height=800\",\"tooltip_as_input\":null,\"tooltip_as_property\":null,\"tooltip_as_output\":null,\"ui_options\":{\"is_custom\":true,\"is_user_added\":true},\"settable\":true,\"is_user_defined\":true,\"parent_container_name\":null,\"parent_element_name\":null},\"image\":{\"name\":\"image\",\"tooltip\":\"New parameter\",\"type\":\"ImageUrlArtifact\",\"input_types\":[\"ImageUrlArtifact\",\"ImageArtifact\",\"str\"],\"output_type\":\"ImageUrlArtifact\",\"default_value\":\"\",\"tooltip_as_input\":null,\"tooltip_as_property\":null,\"tooltip_as_output\":null,\"ui_options\":{\"clickable_file_browser\":true,\"expander\":true,\"edit_mask\":true,\"display_name\":\"image\",\"is_custom\":true,\"is_user_added\":true,\"hide\":false},\"settable\":true,\"is_user_defined\":true,\"parent_container_name\":\"\",\"parent_element_name\":null}}},\"outputs\":{\"End Flow\":{\"exec_in\":{\"name\":\"exec_in\",\"tooltip\":\"Control path when the flow completed successfully\",\"type\":\"parametercontroltype\",\"input_types\":[\"parametercontroltype\"],\"output_type\":\"parametercontroltype\",\"default_value\":null,\"tooltip_as_input\":null,\"tooltip_as_property\":null,\"tooltip_as_output\":null,\"ui_options\":{\"display_name\":\"Succeeded\"},\"settable\":true,\"is_user_defined\":true,\"parent_container_name\":null,\"parent_element_name\":null},\"failed\":{\"name\":\"failed\",\"tooltip\":\"Control path when the flow failed\",\"type\":\"parametercontroltype\",\"input_types\":[\"parametercontroltype\"],\"output_type\":\"parametercontroltype\",\"default_value\":null,\"tooltip_as_input\":null,\"tooltip_as_property\":null,\"tooltip_as_output\":null,\"ui_options\":{\"display_name\":\"Failed\"},\"settable\":true,\"is_user_defined\":true,\"parent_container_name\":null,\"parent_element_name\":null},\"was_successful\":{\"name\":\"was_successful\",\"tooltip\":\"Indicates whether it completed without errors.\",\"type\":\"bool\",\"input_types\":[\"bool\"],\"output_type\":\"bool\",\"default_value\":false,\"tooltip_as_input\":null,\"tooltip_as_property\":null,\"tooltip_as_output\":null,\"ui_options\":{},\"settable\":false,\"is_user_defined\":true,\"parent_container_name\":null,\"parent_element_name\":null},\"result_details\":{\"name\":\"result_details\",\"tooltip\":\"Details about the operation result\",\"type\":\"str\",\"input_types\":[\"str\"],\"output_type\":\"str\",\"default_value\":null,\"tooltip_as_input\":null,\"tooltip_as_property\":null,\"tooltip_as_output\":null,\"ui_options\":{\"multiline\":true,\"placeholder_text\":\"Details about the completion or failure will be shown here.\"},\"settable\":false,\"is_user_defined\":true,\"parent_container_name\":null,\"parent_element_name\":null},\"model_url\":{\"name\":\"model_url\",\"tooltip\":\"New parameter\",\"type\":\"ThreeDUrlArtifact\",\"input_types\":[\"ThreeDUrlArtifact\"],\"output_type\":\"ThreeDUrlArtifact\",\"default_value\":\"\",\"tooltip_as_input\":null,\"tooltip_as_property\":null,\"tooltip_as_output\":null,\"ui_options\":{\"is_full_width\":true,\"pulse_on_run\":true,\"display_name\":\"3D Model\",\"is_custom\":true,\"is_user_added\":true},\"settable\":true,\"is_user_defined\":true,\"parent_container_name\":\"\",\"parent_element_name\":null},\"image\":{\"name\":\"image\",\"tooltip\":\"New parameter\",\"type\":\"ImageUrlArtifact\",\"input_types\":[\"ImageUrlArtifact\"],\"output_type\":\"ImageUrlArtifact\",\"default_value\":\"\",\"tooltip_as_input\":null,\"tooltip_as_property\":null,\"tooltip_as_output\":null,\"ui_options\":{\"is_full_width\":true,\"pulse_on_run\":true,\"is_custom\":true,\"is_user_added\":true},\"settable\":true,\"is_user_defined\":true,\"parent_container_name\":\"\",\"parent_element_name\":null},\"image_1\":{\"name\":\"image_1\",\"tooltip\":\"New parameter\",\"type\":\"ImageUrlArtifact\",\"input_types\":[\"ImageUrlArtifact\"],\"output_type\":\"ImageUrlArtifact\",\"default_value\":\"\",\"tooltip_as_input\":null,\"tooltip_as_property\":null,\"tooltip_as_output\":null,\"ui_options\":{\"is_full_width\":true,\"pulse_on_run\":true,\"is_custom\":true,\"is_user_added\":true},\"settable\":true,\"is_user_defined\":true,\"parent_container_name\":\"\",\"parent_element_name\":null}}}}"
# image = "https://raw.githubusercontent.com/griptape-ai/griptape-nodes/refs/heads/main/libraries/griptape_nodes_library/workflows/templates/thumbnail_rodin_3d_-_3d_model_from_image.webp"
# 
# ///

import argparse
import asyncio
import json
import pickle
from griptape.artifacts.image_url_artifact import ImageUrlArtifact
from griptape_nodes.bootstrap.workflow_executors.local_workflow_executor import LocalWorkflowExecutor
from griptape_nodes.bootstrap.workflow_executors.workflow_executor import WorkflowExecutor
from griptape_nodes.drivers.storage.storage_backend import StorageBackend
from griptape_nodes.node_library.library_registry import IconVariant, NodeDeprecationMetadata, NodeMetadata
from griptape_nodes.retained_mode.events.connection_events import CreateConnectionRequest
from griptape_nodes.retained_mode.events.flow_events import CreateFlowRequest, GetTopLevelFlowRequest, GetTopLevelFlowResultSuccess
from griptape_nodes.retained_mode.events.library_events import LoadLibrariesRequest
from griptape_nodes.retained_mode.events.node_events import CreateNodeRequest
from griptape_nodes.retained_mode.events.parameter_events import AddParameterToNodeRequest, AlterParameterDetailsRequest, SetParameterValueRequest
from griptape_nodes.retained_mode.griptape_nodes import GriptapeNodes

GriptapeNodes.handle_request(LoadLibrariesRequest())

context_manager = GriptapeNodes.ContextManager()

if not context_manager.has_current_workflow():
    context_manager.push_workflow(workflow_name='Rodin 3D - 3D Model from Image')

"""
1. We've collated all of the unique parameter values into a dictionary so that we do not have to duplicate them.
   This minimizes the size of the code, especially for large objects like serialized image files.
2. We're using a prefix so that it's clear which Flow these values are associated with.
3. The values are serialized using pickle, which is a binary format. This makes them harder to read, but makes
   them consistently save and load. It allows us to serialize complex objects like custom classes, which otherwise
   would be difficult to serialize.
"""
top_level_unique_values_dict = {'2bffb4cd-af85-450a-904f-86a734cc3081': pickle.loads(b'\x80\x04\x95\xaa\x00\x00\x00\x00\x00\x00\x00\x8c\xa6https://images.pdimagearchive.org/collections/joseph-ducreux-self-portraits/6a7dc663cb2b4ad4e42b05584699e7003971c66d247f3301e6ff42125321-edit.jpg?width=755&height=800\x94.'), '34b11fef-2c50-4ebb-a2f4-6c069a5e01fb': pickle.loads(b'\x80\x04\x95\x04\x00\x00\x00\x00\x00\x00\x00\x8c\x00\x94.'), '765a6c9c-35ef-4857-b962-2c76d44789d1': pickle.loads(b'\x80\x04\x95\x9c\x01\x00\x00\x00\x00\x00\x00\x8c%griptape.artifacts.image_url_artifact\x94\x8c\x10ImageUrlArtifact\x94\x93\x94)\x81\x94}\x94(\x8c\x04type\x94\x8c\x10ImageUrlArtifact\x94\x8c\x0bmodule_name\x94\x8c%griptape.artifacts.image_url_artifact\x94\x8c\x02id\x94\x8c 0e4a94c3cb434c9daa6b8c7c08eeaa6a\x94\x8c\treference\x94N\x8c\x04meta\x94}\x94\x8c\x04name\x94h\n\x8c\x16encoding_error_handler\x94\x8c\x06strict\x94\x8c\x08encoding\x94\x8c\x05utf-8\x94\x8c\x05value\x94\x8c\x7fhttp://localhost:8124/workspace/static_files/6a7dc663cb2b4ad4e42b05584699e7003971c66d247f3301e6ff42125321-edit.jpg?t=1766088547\x94ub.'), '9c506c48-d142-4772-b996-aaa6eeee9cf7': pickle.loads(b'\x80\x04\x95\x83\x00\x00\x00\x00\x00\x00\x00\x8c\x7fhttp://localhost:8124/workspace/static_files/6a7dc663cb2b4ad4e42b05584699e7003971c66d247f3301e6ff42125321-edit.jpg?t=1766088547\x94.'), 'b5ebfd26-4214-4ed3-a88f-aa4ec8bb3486': pickle.loads(b'\x80\x04\x95\x08\x00\x00\x00\x00\x00\x00\x00\x8c\x04none\x94.'), '813dd3e5-599f-4607-ba12-1dd6a53bf8f0': pickle.loads(b'\x80\x04\x89.'), '41c9c848-d6b5-4679-bc5b-546be2626585': pickle.loads(b'\x80\x04\x950\x00\x00\x00\x00\x00\x00\x00\x8c,<Results will appear when the node executes>\x94.'), '68ebd384-5ca6-4e85-a899-2e551bdf7f98': pickle.loads(b'\x80\x04\x95U\x03\x00\x00\x00\x00\x00\x00XN\x03\x00\x00# Rodin 3D - Create a 3D Model from an Image\n\nThis workflow demonstrates the use of various models to generate a 3D model.\n\nIt first grabs an image from the [Public Domain Image Archive](https://pdimagearchive.org/galleries/all) - a fantastic resource for inspirational and unique images.\n\nThen, uses [OpenAI gpt-4.1-mini](https://platform.openai.com/docs/models/gpt-4.1-mini) to describe the hat in that image.\n\nNext, it uses Google Gemini [Nano Banana Pro](https://gemini.google/overview/image-generation/) to render the a nice image of the hat in perspective view, then renders another view of the bottom of the hat. \n\nThese images are pasted to [Hyper3D Rodin](https://hyper3d.ai/) to generate a 3d model.\n\n_Note_: You can provide your own image by simply disconnecting the `image_url` parameter and instead connecting the `image` parameter. \x94.'), '1bc26ce9-3151-44ec-81fa-d36d4bb2bab6': pickle.loads(b'\x80\x04\x95\xad\x00\x00\x00\x00\x00\x00\x00\x8c\xa9# Inputs\n\nProvide the url of a person from the [Public Domain Image Archive](https://pdimagearchive.org/galleries/all), or provide your own image and connect it instead.\x94.'), '714c3d04-3791-4fca-ac92-f4a50543011a': pickle.loads(b'\x80\x04\x95~\x00\x00\x00\x00\x00\x00\x00\x8czUse OpenAI gpt-4.1-mini to describe the hat from the image so that it can be generated cleanly with Google Nano Banana Pro\x94.'), '6484b97d-10de-4dd1-9bea-d5c0b0a11893': pickle.loads(b"\x80\x04\x95'\x00\x00\x00\x00\x00\x00\x00\x8c#Merge the text to generate a prompt\x94."), '3e66c72d-287b-4e28-b686-3bf7dfe4c16a': pickle.loads(b'\x80\x04\x95}\x00\x00\x00\x00\x00\x00\x00\x8cyCreate a 3d high resolution render of the hat from this image, using information from the description as supporting data.\x94.'), '7d9c5091-baab-41b9-87c7-b346bea3087a': pickle.loads(b'\x80\x04\x95#\x00\x00\x00\x00\x00\x00\x00\x8c\x1flight background, soft shadows.\x94.'), '0fcf68e6-43e8-4ba0-8069-e385b31f87d0': pickle.loads(b'\x80\x04\x95\x08\x00\x00\x00\x00\x00\x00\x00\x8c\x04\\n\\n\x94.'), '80fc0564-4626-4a69-896c-2de2106f36cb': pickle.loads(b'\x80\x04\x95\x9e\x00\x00\x00\x00\x00\x00\x00\x8c\x9aCreate a 3d high resolution render of the hat from this image, using information from the description as supporting data.\n\nlight background, soft shadows.\x94.'), '2fcffc95-6091-4c7f-b8b4-22136ceb00f3': pickle.loads(b"\x80\x04\x95]\x00\x00\x00\x00\x00\x00\x00\x8cYRun the workflow to view the results. You'll get the 3d model, and two images of the hat.\x94."), '33711fd2-1a2d-455b-991f-968f5a8f7842': pickle.loads(b'\x80\x04\x95\xba\x00\x00\x00\x00\x00\x00\x00\x8c\xb6Use Google Gemini Nano Banana Pro to generate a 3d perspective view and a 3/4 underside image of the hat. These two images will provide enough detail to Ronin to create the 3d model.\x94.'), 'ebbf8cd8-d8da-4ec5-aa53-8c4614a0373d': pickle.loads(b'\x80\x04\x95\xa3\x00\x00\x00\x00\x00\x00\x00\x8c\x9fGenerate a 3d Model with [Hyper 3D Ronin](https://hyper3d.ai/).\n\nThis currently outputs **glb** format, but you can make changes to any parameters you require.\x94.'), '593fbe64-8578-4bfd-893f-3105cc103a8c': pickle.loads(b'\x80\x04\x95\x10\x00\x00\x00\x00\x00\x00\x00\x8c\x0cgpt-4.1-mini\x94.'), 'a8f2ff86-cd4e-4763-ac43-e40947e9127b': pickle.loads(b'\x80\x04\x95\xda\x00\x00\x00\x00\x00\x00\x00\x8c\xd6Describe the hat from this image. Be specific about the shape and design. Include detailed reference to height, width, and creasing. Include specific details on brim shape, and any dents or textures in the surface.\x94.'), '3c0eefa7-21bd-4934-8238-3b0752a240a8': pickle.loads(b'\x80\x04\x88.'), '78675b15-9c19-46ed-8218-3ad2b5d2aa3c': pickle.loads(b'\x80\x04\x95\x15\x00\x00\x00\x00\x00\x00\x00\x8c\x11nano-banana-3-pro\x94.'), '54675f91-9ec6-406b-8523-e35eda52846e': pickle.loads(b'\x80\x04\x95\x9f\x01\x00\x00\x00\x00\x00\x00]\x94\x8c%griptape.artifacts.image_url_artifact\x94\x8c\x10ImageUrlArtifact\x94\x93\x94)\x81\x94}\x94(\x8c\x04type\x94\x8c\x10ImageUrlArtifact\x94\x8c\x0bmodule_name\x94\x8c%griptape.artifacts.image_url_artifact\x94\x8c\x02id\x94\x8c 0e4a94c3cb434c9daa6b8c7c08eeaa6a\x94\x8c\treference\x94N\x8c\x04meta\x94}\x94\x8c\x04name\x94h\x0b\x8c\x16encoding_error_handler\x94\x8c\x06strict\x94\x8c\x08encoding\x94\x8c\x05utf-8\x94\x8c\x05value\x94\x8c\x7fhttp://localhost:8124/workspace/static_files/6a7dc663cb2b4ad4e42b05584699e7003971c66d247f3301e6ff42125321-edit.jpg?t=1766088547\x94uba.'), 'b8d71d20-e950-440c-b357-971f9ba67045': pickle.loads(b'\x80\x04]\x94.'), '72d178f0-7cc4-41de-94c2-392beeb8b3c9': pickle.loads(b'\x80\x04]\x94.'), '5d2ea5bb-68c6-4472-989d-6fdb28edea64': pickle.loads(b'\x80\x04\x95\x08\x00\x00\x00\x00\x00\x00\x00\x8c\x0416:9\x94.'), '9c2fd77d-6fc3-4f57-b3f8-20e8dcfa3d2a': pickle.loads(b'\x80\x04\x95\x06\x00\x00\x00\x00\x00\x00\x00\x8c\x021K\x94.'), 'a43333ea-d75e-4af4-8a3f-205ce3a838c6': pickle.loads(b'\x80\x04\x95\n\x00\x00\x00\x00\x00\x00\x00G?\xf0\x00\x00\x00\x00\x00\x00.'), '5daeade2-32bf-4480-8320-29930a13af9e': pickle.loads(b'\x80\x04\x95\x1d\x00\x00\x00\x00\x00\x00\x00\x8c\x193/4 underside of this hat\x94.'), '6fb3324c-c281-4b89-b090-d5db0b44c335': pickle.loads(b'\x80\x04]\x94.'), 'd3a597a4-ff90-4099-a6d0-fd04379e0a6a': pickle.loads(b'\x80\x04]\x94.'), '4d0cd5b5-b778-4cfd-9335-c42ce19ac94d': pickle.loads(b'\x80\x04\x95\x07\x00\x00\x00\x00\x00\x00\x00\x8c\x03hat\x94.'), '940ee0b0-4af7-48de-be90-4078f4c7d0ca': pickle.loads(b'\x80\x04]\x94.'), '6f6ed0e1-7561-4d1d-a10e-c622e736079e': pickle.loads(b'\x80\x04\x95\n\x00\x00\x00\x00\x00\x00\x00\x8c\x06concat\x94.'), 'ee4d147b-84e2-4542-aec5-e317c5cab610': pickle.loads(b'\x80\x04\x95\x07\x00\x00\x00\x00\x00\x00\x00\x8c\x03glb\x94.'), '8da3e6c9-5242-4b36-b680-05e63f769a7e': pickle.loads(b'\x80\x04\x95\n\x00\x00\x00\x00\x00\x00\x00\x8c\x06Shaded\x94.'), '05beae1b-842c-45b3-8f26-4621ef92f48a': pickle.loads(b'\x80\x04\x95\n\x00\x00\x00\x00\x00\x00\x00\x8c\x06medium\x94.'), 'e66987e3-1983-4b19-9bb9-c80c59a990fa': pickle.loads(b'\x80\x04\x95\x08\x00\x00\x00\x00\x00\x00\x00\x8c\x04Quad\x94.'), 'ee3eb5bd-6f52-4372-a69c-be2a916b4455': pickle.loads(b'\x80\x04K*.')}

'# Create the Flow, then do work within it as context.'

flow0_name = GriptapeNodes.handle_request(CreateFlowRequest(parent_flow_name=None, flow_name='ControlFlow_1', set_as_new_context=False, metadata={})).flow_name

with GriptapeNodes.ContextManager().flow(flow0_name):
    node0_name = GriptapeNodes.handle_request(CreateNodeRequest(node_type='StartFlow', specific_library_name='Griptape Nodes Library', node_name='Start Flow', metadata={'position': {'x': -1079.3184088273833, 'y': 166.3418546447166}, 'tempId': 'placing-1765996350930-qa8fpl', 'library_node_metadata': NodeMetadata(category='workflows', description='Define the start of a workflow and pass parameters into the flow', display_name='Start Flow', tags=None, icon=None, color=None, group='create', deprecation=None, is_node_group=None), 'library': 'Griptape Nodes Library', 'node_type': 'StartFlow', 'showaddparameter': True, 'size': {'width': 603, 'height': 433}, 'category': 'workflows'}, resolution='resolved', initial_setup=True)).node_name
    with GriptapeNodes.ContextManager().node(node0_name):
        GriptapeNodes.handle_request(AddParameterToNodeRequest(parameter_name='image_url', default_value='https://images.pdimagearchive.org/collections/posed-portraits-of-19th-century-baseball-stars/4051199982_718521f59f_z.jpg?zz=1?width=438&height=800', tooltip='Enter text/string for image_url.', type='str', input_types=['str'], output_type='str', ui_options={'is_custom': True, 'is_user_added': True}, mode_allowed_input=False, mode_allowed_property=True, mode_allowed_output=True, initial_setup=True))
        GriptapeNodes.handle_request(AddParameterToNodeRequest(parameter_name='image', default_value='', tooltip='New parameter', type='ImageUrlArtifact', input_types=['ImageUrlArtifact', 'ImageArtifact', 'str'], output_type='ImageUrlArtifact', ui_options={'clickable_file_browser': True, 'expander': True, 'edit_mask': True, 'display_name': 'image', 'is_custom': True, 'is_user_added': True, 'hide': False}, mode_allowed_input=True, mode_allowed_property=True, mode_allowed_output=True, parent_container_name='', initial_setup=True))
    node1_name = GriptapeNodes.handle_request(CreateNodeRequest(node_type='LoadImage', specific_library_name='Griptape Nodes Library', node_name='Load Image', metadata={'position': {'x': -314.31840882738334, 'y': 166.3418546447166}, 'tempId': 'placing-1766027122379-tyn6li', 'library_node_metadata': NodeMetadata(category='image', description='Loads an image from disk', display_name='Load Image', tags=None, icon='image-up', color=None, group='Input/Output', deprecation=None, is_node_group=None), 'library': 'Griptape Nodes Library', 'node_type': 'LoadImage', 'showaddparameter': False, 'size': {'width': 600, 'height': 540}, 'category': 'image'}, resolution='resolved', initial_setup=True)).node_name
    with GriptapeNodes.ContextManager().node(node1_name):
        GriptapeNodes.handle_request(AlterParameterDetailsRequest(parameter_name='image', settable=False, initial_setup=True))
        GriptapeNodes.handle_request(AlterParameterDetailsRequest(parameter_name='path', settable=False, initial_setup=True))
    node2_name = GriptapeNodes.handle_request(CreateNodeRequest(node_type='Note', specific_library_name='Griptape Nodes Library', node_name='Workflow Description', metadata={'position': {'x': -1079.3184088273833, 'y': -637.7329772284488}, 'tempId': 'placing-1766077471138-5mp4lm', 'library_node_metadata': NodeMetadata(category='misc', description='Create a note node to provide helpful context in your workflow', display_name='Note', tags=None, icon='notepad-text', color=None, group='create', deprecation=None, is_node_group=None), 'library': 'Griptape Nodes Library', 'node_type': 'Note', 'showaddparameter': False, 'size': {'width': 743, 'height': 424}, 'category': 'misc'}, initial_setup=True)).node_name
    node3_name = GriptapeNodes.handle_request(CreateNodeRequest(node_type='Note', specific_library_name='Griptape Nodes Library', node_name='Step 1', metadata={'position': {'x': -1079.3184088273833, 'y': -108.15814535528341}, 'tempId': 'placing-1766003334530-pnkgh', 'library_node_metadata': NodeMetadata(category='misc', description='Create a note node to provide helpful context in your workflow', display_name='Note', tags=None, icon='notepad-text', color=None, group='create', deprecation=None, is_node_group=None), 'library': 'Griptape Nodes Library', 'node_type': 'Note', 'showaddparameter': False, 'size': {'width': 1365, 'height': 242}, 'category': 'misc'}, resolution='resolved', initial_setup=True)).node_name
    node4_name = GriptapeNodes.handle_request(CreateNodeRequest(node_type='Note', specific_library_name='Griptape Nodes Library', node_name='Step 2', metadata={'position': {'x': 511.1197906682836, 'y': -109.15814535528341}, 'tempId': 'placing-1766029587785-4avcqn', 'library_node_metadata': NodeMetadata(category='misc', description='Create a note node to provide helpful context in your workflow', display_name='Note', tags=None, icon='notepad-text', color=None, group='create', deprecation=None, is_node_group=None), 'library': 'Griptape Nodes Library', 'node_type': 'Note', 'showaddparameter': False, 'size': {'width': 600, 'height': 192}, 'category': 'misc'}, initial_setup=True)).node_name
    node5_name = GriptapeNodes.handle_request(CreateNodeRequest(node_type='Note', specific_library_name='Griptape Nodes Library', node_name='Step 3', metadata={'position': {'x': 1309.040155645493, 'y': -109.15814535528341}, 'tempId': 'placing-1766003370124-fo9hq', 'library_node_metadata': NodeMetadata(category='misc', description='Create a note node to provide helpful context in your workflow', display_name='Note', tags=None, icon='notepad-text', color=None, group='create', deprecation=None, is_node_group=None), 'library': 'Griptape Nodes Library', 'node_type': 'Note', 'showaddparameter': False, 'size': {'width': 600, 'height': 196}, 'category': 'misc'}, initial_setup=True)).node_name
    node6_name = GriptapeNodes.handle_request(CreateNodeRequest(node_type='MergeTexts', specific_library_name='Griptape Nodes Library', node_name='Merge Texts', metadata={'position': {'x': 1309.040155645493, 'y': 166.3418546447166}, 'tempId': 'placing-1766082110482-wb2nal', 'library_node_metadata': NodeMetadata(category='text', description='MergeTexts node', display_name='Merge Texts', tags=None, icon='merge', color=None, group='merge', deprecation=None, is_node_group=None), 'library': 'Griptape Nodes Library', 'node_type': 'MergeTexts', 'showaddparameter': False, 'size': {'width': 600, 'height': 500}, 'category': 'text'}, initial_setup=True)).node_name
    node7_name = GriptapeNodes.handle_request(CreateNodeRequest(node_type='EndFlow', specific_library_name='Griptape Nodes Library', node_name='End Flow', metadata={'library_node_metadata': NodeMetadata(category='workflows', description='Define the end of a workflow and return parameters from the flow', display_name='End Flow', tags=None, icon=None, color=None, group='create', deprecation=None, is_node_group=None), 'library': 'Griptape Nodes Library', 'node_type': 'EndFlow', 'showaddparameter': True, 'position': {'x': 4424.484610936857, 'y': 166.3418546447166}, 'size': {'width': 945, 'height': 1244}, 'category': 'workflows'}, initial_setup=True)).node_name
    with GriptapeNodes.ContextManager().node(node7_name):
        GriptapeNodes.handle_request(AddParameterToNodeRequest(parameter_name='model_url', default_value='', tooltip='New parameter', type='ThreeDUrlArtifact', input_types=['ThreeDUrlArtifact'], output_type='ThreeDUrlArtifact', ui_options={'is_full_width': True, 'pulse_on_run': True, 'display_name': '3D Model', 'is_custom': True, 'is_user_added': True}, mode_allowed_input=True, mode_allowed_property=True, mode_allowed_output=True, parent_container_name='', initial_setup=True))
        GriptapeNodes.handle_request(AddParameterToNodeRequest(parameter_name='image', default_value='', tooltip='New parameter', type='ImageUrlArtifact', input_types=['ImageUrlArtifact'], output_type='ImageUrlArtifact', ui_options={'is_full_width': True, 'pulse_on_run': True, 'is_custom': True, 'is_user_added': True}, mode_allowed_input=True, mode_allowed_property=True, mode_allowed_output=True, parent_container_name='', initial_setup=True))
        GriptapeNodes.handle_request(AddParameterToNodeRequest(parameter_name='image_1', default_value='', tooltip='New parameter', type='ImageUrlArtifact', input_types=['ImageUrlArtifact'], output_type='ImageUrlArtifact', ui_options={'is_full_width': True, 'pulse_on_run': True, 'is_custom': True, 'is_user_added': True}, mode_allowed_input=True, mode_allowed_property=True, mode_allowed_output=True, parent_container_name='', initial_setup=True))
    node8_name = GriptapeNodes.handle_request(CreateNodeRequest(node_type='Note', specific_library_name='Griptape Nodes Library', node_name='Step 6', metadata={'position': {'x': 4424.484610936857, 'y': -109.15814535528341}, 'tempId': 'placing-1766003370124-fo9hq', 'library_node_metadata': NodeMetadata(category='misc', description='Create a note node to provide helpful context in your workflow', display_name='Note', tags=None, icon='notepad-text', color=None, group='create', deprecation=None, is_node_group=None), 'library': 'Griptape Nodes Library', 'node_type': 'Note', 'showaddparameter': False, 'size': {'width': 600, 'height': 163}, 'category': 'misc'}, initial_setup=True)).node_name
    node9_name = GriptapeNodes.handle_request(CreateNodeRequest(node_type='Note', specific_library_name='Griptape Nodes Library', node_name='Step 4', metadata={'position': {'x': 2015.6453451374286, 'y': -109.15814535528341}, 'tempId': 'placing-1766003370124-fo9hq', 'library_node_metadata': NodeMetadata(category='misc', description='Create a note node to provide helpful context in your workflow', display_name='Note', tags=None, icon='notepad-text', color=None, group='create', deprecation=None, is_node_group=None), 'library': 'Griptape Nodes Library', 'node_type': 'Note', 'showaddparameter': False, 'size': {'width': 1219, 'height': 208}, 'category': 'misc'}, initial_setup=True)).node_name
    node10_name = GriptapeNodes.handle_request(CreateNodeRequest(node_type='Note', specific_library_name='Griptape Nodes Library', node_name='Step 5', metadata={'position': {'x': 3550.4141023772922, 'y': -109.15814535528341}, 'tempId': 'placing-1766003370124-fo9hq', 'library_node_metadata': NodeMetadata(category='misc', description='Create a note node to provide helpful context in your workflow', display_name='Note', tags=None, icon='notepad-text', color=None, group='create', deprecation=None, is_node_group=None), 'library': 'Griptape Nodes Library', 'node_type': 'Note', 'showaddparameter': False, 'size': {'width': 607, 'height': 207}, 'category': 'misc'}, initial_setup=True)).node_name
    node11_name = GriptapeNodes.handle_request(CreateNodeRequest(node_type='DescribeImage', specific_library_name='Griptape Nodes Library', node_name='Describe Image', metadata={'library_node_metadata': NodeMetadata(category='image', description='Can be used to describe an image', display_name='Describe Image', tags=None, icon=None, color=None, group='describe', deprecation=None, is_node_group=None), 'library': 'Griptape Nodes Library', 'node_type': 'DescribeImage', 'position': {'x': 511.1197906682836, 'y': 166.3418546447166}, 'size': {'width': 600, 'height': 990}}, initial_setup=True)).node_name
    node12_name = GriptapeNodes.handle_request(CreateNodeRequest(node_type='GoogleImageGeneration', specific_library_name='Griptape Nodes Library', node_name='Google Nano Banana Image Generation', metadata={'library_node_metadata': NodeMetadata(category='image', description='Generate images using Google models via Griptape model proxy', display_name='Google Nano Banana Image Generation', tags=None, icon='sparkles', color=None, group='create', deprecation=None, is_node_group=None), 'library': 'Griptape Nodes Library', 'node_type': 'GoogleImageGeneration', 'position': {'x': 2007.8973916155874, 'y': 166.3418546447166}, 'size': {'width': 600, 'height': 1828}}, initial_setup=True)).node_name
    with GriptapeNodes.ContextManager().node(node12_name):
        GriptapeNodes.handle_request(AddParameterToNodeRequest(parameter_name='input_images_ParameterListUniqueParamID_53c70f3f060745eb85d845ee984fc3b1', default_value=[], tooltip='Optional reference images for the generation', type='ImageUrlArtifact', input_types=['ImageUrlArtifact', 'ImageArtifact'], output_type='ImageUrlArtifact', ui_options={'display_name': 'Input Images', 'expander': True}, mode_allowed_input=True, mode_allowed_property=False, mode_allowed_output=False, is_user_defined=True, settable=True, parent_container_name='input_images', initial_setup=True))
    node13_name = GriptapeNodes.handle_request(CreateNodeRequest(node_type='GoogleImageGeneration', specific_library_name='Griptape Nodes Library', node_name='Google Nano Banana Image Generation_2', metadata={'library_node_metadata': NodeMetadata(category='image', description='Generate images using Google models via Griptape model proxy', display_name='Google Nano Banana Image Generation', tags=None, icon='sparkles', color=None, group='create', deprecation=None, is_node_group=None), 'library': 'Griptape Nodes Library', 'node_type': 'GoogleImageGeneration', 'position': {'x': 2643.6453451374286, 'y': 166.3418546447166}, 'size': {'width': 600, 'height': 1828}}, initial_setup=True)).node_name
    with GriptapeNodes.ContextManager().node(node13_name):
        GriptapeNodes.handle_request(AddParameterToNodeRequest(parameter_name='input_images_ParameterListUniqueParamID_b0474864a15545948187ddd60d539c6e', default_value=[], tooltip='Optional reference images for the generation', type='ImageUrlArtifact', input_types=['ImageUrlArtifact', 'ImageArtifact'], output_type='ImageUrlArtifact', ui_options={'display_name': 'Input Images', 'expander': True}, mode_allowed_input=True, mode_allowed_property=False, mode_allowed_output=False, is_user_defined=True, settable=True, parent_container_name='input_images', initial_setup=True))
    node14_name = GriptapeNodes.handle_request(CreateNodeRequest(node_type='Rodin23DGeneration', specific_library_name='Griptape Nodes Library', node_name='Rodin 3D Generation', metadata={'library_node_metadata': NodeMetadata(category='3D', description='Generate 3D models using Rodin Gen-2 via Griptape model proxy', display_name='Rodin 3D Generation', tags=None, icon=None, color=None, group='create', deprecation=None, is_node_group=None), 'library': 'Griptape Nodes Library', 'node_type': 'Rodin23DGeneration', 'position': {'x': 3550.4141023772922, 'y': 166.3418546447166}, 'size': {'width': 600, 'height': 1422}}, initial_setup=True)).node_name
    with GriptapeNodes.ContextManager().node(node14_name):
        GriptapeNodes.handle_request(AddParameterToNodeRequest(parameter_name='input_images_ParameterListUniqueParamID_5ee5c2713cec4c5cb1ebbecd02eae237', default_value=[], tooltip='Optional input images for Image-to-3D generation (up to 5 images)', type='ImageArtifact', input_types=['ImageArtifact', 'ImageUrlArtifact', 'str', 'list', 'list[ImageArtifact]', 'list[ImageUrlArtifact]'], output_type='ImageArtifact', ui_options={'expander': True, 'display_name': 'Input Images'}, mode_allowed_input=True, mode_allowed_property=True, mode_allowed_output=False, is_user_defined=True, settable=True, parent_container_name='input_images', initial_setup=True))
        GriptapeNodes.handle_request(AddParameterToNodeRequest(parameter_name='input_images_ParameterListUniqueParamID_369ba9d539dc43b68a72687fc518f06a', default_value=[], tooltip='Optional input images for Image-to-3D generation (up to 5 images)', type='ImageArtifact', input_types=['ImageArtifact', 'ImageUrlArtifact', 'str', 'list', 'list[ImageArtifact]', 'list[ImageUrlArtifact]'], output_type='ImageArtifact', ui_options={'expander': True, 'display_name': 'Input Images'}, mode_allowed_input=True, mode_allowed_property=True, mode_allowed_output=False, is_user_defined=True, settable=True, parent_container_name='input_images', initial_setup=True))
    GriptapeNodes.handle_request(CreateConnectionRequest(source_node_name=node0_name, source_parameter_name='image_url', target_node_name=node1_name, target_parameter_name='image', initial_setup=True))
    GriptapeNodes.handle_request(CreateConnectionRequest(source_node_name=node1_name, source_parameter_name='image', target_node_name=node11_name, target_parameter_name='image', initial_setup=True))
    GriptapeNodes.handle_request(CreateConnectionRequest(source_node_name=node11_name, source_parameter_name='output', target_node_name=node6_name, target_parameter_name='input_2', initial_setup=True))
    GriptapeNodes.handle_request(CreateConnectionRequest(source_node_name=node6_name, source_parameter_name='output', target_node_name=node12_name, target_parameter_name='prompt', initial_setup=True))
    GriptapeNodes.handle_request(CreateConnectionRequest(source_node_name=node12_name, source_parameter_name='image', target_node_name=node7_name, target_parameter_name='image', initial_setup=True))
    GriptapeNodes.handle_request(CreateConnectionRequest(source_node_name=node11_name, source_parameter_name='image', target_node_name=node12_name, target_parameter_name='input_images_ParameterListUniqueParamID_53c70f3f060745eb85d845ee984fc3b1', initial_setup=True))
    GriptapeNodes.handle_request(CreateConnectionRequest(source_node_name=node13_name, source_parameter_name='image', target_node_name=node7_name, target_parameter_name='image_1', initial_setup=True))
    GriptapeNodes.handle_request(CreateConnectionRequest(source_node_name=node12_name, source_parameter_name='image', target_node_name=node13_name, target_parameter_name='input_images_ParameterListUniqueParamID_b0474864a15545948187ddd60d539c6e', initial_setup=True))
    GriptapeNodes.handle_request(CreateConnectionRequest(source_node_name=node14_name, source_parameter_name='model_url', target_node_name=node7_name, target_parameter_name='model_url', initial_setup=True))
    GriptapeNodes.handle_request(CreateConnectionRequest(source_node_name=node12_name, source_parameter_name='image', target_node_name=node14_name, target_parameter_name='input_images_ParameterListUniqueParamID_5ee5c2713cec4c5cb1ebbecd02eae237', initial_setup=True))
    GriptapeNodes.handle_request(CreateConnectionRequest(source_node_name=node13_name, source_parameter_name='image', target_node_name=node14_name, target_parameter_name='input_images_ParameterListUniqueParamID_369ba9d539dc43b68a72687fc518f06a', initial_setup=True))
    with GriptapeNodes.ContextManager().node(node0_name):
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='image_url', node_name=node0_name, value=top_level_unique_values_dict['2bffb4cd-af85-450a-904f-86a734cc3081'], initial_setup=True, is_output=False))
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='image', node_name=node0_name, value=top_level_unique_values_dict['34b11fef-2c50-4ebb-a2f4-6c069a5e01fb'], initial_setup=True, is_output=False))
    with GriptapeNodes.ContextManager().node(node1_name):
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='image', node_name=node1_name, value=top_level_unique_values_dict['765a6c9c-35ef-4857-b962-2c76d44789d1'], initial_setup=True, is_output=False))
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='image', node_name=node1_name, value=top_level_unique_values_dict['765a6c9c-35ef-4857-b962-2c76d44789d1'], initial_setup=True, is_output=True))
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='path', node_name=node1_name, value=top_level_unique_values_dict['9c506c48-d142-4772-b996-aaa6eeee9cf7'], initial_setup=True, is_output=False))
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='path', node_name=node1_name, value=top_level_unique_values_dict['9c506c48-d142-4772-b996-aaa6eeee9cf7'], initial_setup=True, is_output=True))
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='mask_channel', node_name=node1_name, value=top_level_unique_values_dict['b5ebfd26-4214-4ed3-a88f-aa4ec8bb3486'], initial_setup=True, is_output=False))
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='was_successful', node_name=node1_name, value=top_level_unique_values_dict['813dd3e5-599f-4607-ba12-1dd6a53bf8f0'], initial_setup=True, is_output=False))
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='was_successful', node_name=node1_name, value=top_level_unique_values_dict['813dd3e5-599f-4607-ba12-1dd6a53bf8f0'], initial_setup=True, is_output=True))
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='result_details', node_name=node1_name, value=top_level_unique_values_dict['41c9c848-d6b5-4679-bc5b-546be2626585'], initial_setup=True, is_output=False))
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='result_details', node_name=node1_name, value=top_level_unique_values_dict['41c9c848-d6b5-4679-bc5b-546be2626585'], initial_setup=True, is_output=True))
    with GriptapeNodes.ContextManager().node(node2_name):
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='note', node_name=node2_name, value=top_level_unique_values_dict['68ebd384-5ca6-4e85-a899-2e551bdf7f98'], initial_setup=True, is_output=False))
    with GriptapeNodes.ContextManager().node(node3_name):
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='note', node_name=node3_name, value=top_level_unique_values_dict['1bc26ce9-3151-44ec-81fa-d36d4bb2bab6'], initial_setup=True, is_output=False))
    with GriptapeNodes.ContextManager().node(node4_name):
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='note', node_name=node4_name, value=top_level_unique_values_dict['714c3d04-3791-4fca-ac92-f4a50543011a'], initial_setup=True, is_output=False))
    with GriptapeNodes.ContextManager().node(node5_name):
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='note', node_name=node5_name, value=top_level_unique_values_dict['6484b97d-10de-4dd1-9bea-d5c0b0a11893'], initial_setup=True, is_output=False))
    with GriptapeNodes.ContextManager().node(node6_name):
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='input_1', node_name=node6_name, value=top_level_unique_values_dict['3e66c72d-287b-4e28-b686-3bf7dfe4c16a'], initial_setup=True, is_output=False))
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='input_2', node_name=node6_name, value=top_level_unique_values_dict['34b11fef-2c50-4ebb-a2f4-6c069a5e01fb'], initial_setup=True, is_output=False))
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='input_3', node_name=node6_name, value=top_level_unique_values_dict['7d9c5091-baab-41b9-87c7-b346bea3087a'], initial_setup=True, is_output=False))
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='merge_string', node_name=node6_name, value=top_level_unique_values_dict['0fcf68e6-43e8-4ba0-8069-e385b31f87d0'], initial_setup=True, is_output=False))
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='whitespace', node_name=node6_name, value=top_level_unique_values_dict['813dd3e5-599f-4607-ba12-1dd6a53bf8f0'], initial_setup=True, is_output=False))
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='output', node_name=node6_name, value=top_level_unique_values_dict['80fc0564-4626-4a69-896c-2de2106f36cb'], initial_setup=True, is_output=False))
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='output', node_name=node6_name, value=top_level_unique_values_dict['80fc0564-4626-4a69-896c-2de2106f36cb'], initial_setup=True, is_output=True))
    with GriptapeNodes.ContextManager().node(node7_name):
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='was_successful', node_name=node7_name, value=top_level_unique_values_dict['813dd3e5-599f-4607-ba12-1dd6a53bf8f0'], initial_setup=True, is_output=False))
    with GriptapeNodes.ContextManager().node(node8_name):
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='note', node_name=node8_name, value=top_level_unique_values_dict['2fcffc95-6091-4c7f-b8b4-22136ceb00f3'], initial_setup=True, is_output=False))
    with GriptapeNodes.ContextManager().node(node9_name):
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='note', node_name=node9_name, value=top_level_unique_values_dict['33711fd2-1a2d-455b-991f-968f5a8f7842'], initial_setup=True, is_output=False))
    with GriptapeNodes.ContextManager().node(node10_name):
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='note', node_name=node10_name, value=top_level_unique_values_dict['ebbf8cd8-d8da-4ec5-aa53-8c4614a0373d'], initial_setup=True, is_output=False))
    with GriptapeNodes.ContextManager().node(node11_name):
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='model', node_name=node11_name, value=top_level_unique_values_dict['593fbe64-8578-4bfd-893f-3105cc103a8c'], initial_setup=True, is_output=False))
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='image', node_name=node11_name, value=top_level_unique_values_dict['765a6c9c-35ef-4857-b962-2c76d44789d1'], initial_setup=True, is_output=False))
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='prompt', node_name=node11_name, value=top_level_unique_values_dict['a8f2ff86-cd4e-4763-ac43-e40947e9127b'], initial_setup=True, is_output=False))
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='description_only', node_name=node11_name, value=top_level_unique_values_dict['3c0eefa7-21bd-4934-8238-3b0752a240a8'], initial_setup=True, is_output=False))
    with GriptapeNodes.ContextManager().node(node12_name):
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='model', node_name=node12_name, value=top_level_unique_values_dict['78675b15-9c19-46ed-8218-3ad2b5d2aa3c'], initial_setup=True, is_output=False))
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='prompt', node_name=node12_name, value=top_level_unique_values_dict['80fc0564-4626-4a69-896c-2de2106f36cb'], initial_setup=True, is_output=False))
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='input_images', node_name=node12_name, value=top_level_unique_values_dict['54675f91-9ec6-406b-8523-e35eda52846e'], initial_setup=True, is_output=False))
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='input_images_ParameterListUniqueParamID_53c70f3f060745eb85d845ee984fc3b1', node_name=node12_name, value=top_level_unique_values_dict['765a6c9c-35ef-4857-b962-2c76d44789d1'], initial_setup=True, is_output=False))
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='object_images', node_name=node12_name, value=top_level_unique_values_dict['b8d71d20-e950-440c-b357-971f9ba67045'], initial_setup=True, is_output=False))
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='human_images', node_name=node12_name, value=top_level_unique_values_dict['72d178f0-7cc4-41de-94c2-392beeb8b3c9'], initial_setup=True, is_output=False))
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='auto_image_resize', node_name=node12_name, value=top_level_unique_values_dict['3c0eefa7-21bd-4934-8238-3b0752a240a8'], initial_setup=True, is_output=False))
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='aspect_ratio', node_name=node12_name, value=top_level_unique_values_dict['5d2ea5bb-68c6-4472-989d-6fdb28edea64'], initial_setup=True, is_output=False))
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='image_size', node_name=node12_name, value=top_level_unique_values_dict['9c2fd77d-6fc3-4f57-b3f8-20e8dcfa3d2a'], initial_setup=True, is_output=False))
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='temperature', node_name=node12_name, value=top_level_unique_values_dict['a43333ea-d75e-4af4-8a3f-205ce3a838c6'], initial_setup=True, is_output=False))
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='use_google_search', node_name=node12_name, value=top_level_unique_values_dict['813dd3e5-599f-4607-ba12-1dd6a53bf8f0'], initial_setup=True, is_output=False))
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='was_successful', node_name=node12_name, value=top_level_unique_values_dict['813dd3e5-599f-4607-ba12-1dd6a53bf8f0'], initial_setup=True, is_output=False))
    with GriptapeNodes.ContextManager().node(node13_name):
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='model', node_name=node13_name, value=top_level_unique_values_dict['78675b15-9c19-46ed-8218-3ad2b5d2aa3c'], initial_setup=True, is_output=False))
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='prompt', node_name=node13_name, value=top_level_unique_values_dict['5daeade2-32bf-4480-8320-29930a13af9e'], initial_setup=True, is_output=False))
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='input_images', node_name=node13_name, value=top_level_unique_values_dict['6fb3324c-c281-4b89-b090-d5db0b44c335'], initial_setup=True, is_output=False))
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='object_images', node_name=node13_name, value=top_level_unique_values_dict['6fb3324c-c281-4b89-b090-d5db0b44c335'], initial_setup=True, is_output=False))
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='human_images', node_name=node13_name, value=top_level_unique_values_dict['d3a597a4-ff90-4099-a6d0-fd04379e0a6a'], initial_setup=True, is_output=False))
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='auto_image_resize', node_name=node13_name, value=top_level_unique_values_dict['3c0eefa7-21bd-4934-8238-3b0752a240a8'], initial_setup=True, is_output=False))
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='aspect_ratio', node_name=node13_name, value=top_level_unique_values_dict['5d2ea5bb-68c6-4472-989d-6fdb28edea64'], initial_setup=True, is_output=False))
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='image_size', node_name=node13_name, value=top_level_unique_values_dict['9c2fd77d-6fc3-4f57-b3f8-20e8dcfa3d2a'], initial_setup=True, is_output=False))
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='temperature', node_name=node13_name, value=top_level_unique_values_dict['a43333ea-d75e-4af4-8a3f-205ce3a838c6'], initial_setup=True, is_output=False))
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='use_google_search', node_name=node13_name, value=top_level_unique_values_dict['813dd3e5-599f-4607-ba12-1dd6a53bf8f0'], initial_setup=True, is_output=False))
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='was_successful', node_name=node13_name, value=top_level_unique_values_dict['813dd3e5-599f-4607-ba12-1dd6a53bf8f0'], initial_setup=True, is_output=False))
    with GriptapeNodes.ContextManager().node(node14_name):
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='prompt', node_name=node14_name, value=top_level_unique_values_dict['4d0cd5b5-b778-4cfd-9335-c42ce19ac94d'], initial_setup=True, is_output=False))
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='input_images', node_name=node14_name, value=top_level_unique_values_dict['940ee0b0-4af7-48de-be90-4078f4c7d0ca'], initial_setup=True, is_output=False))
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='condition_mode', node_name=node14_name, value=top_level_unique_values_dict['6f6ed0e1-7561-4d1d-a10e-c622e736079e'], initial_setup=True, is_output=False))
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='geometry_file_format', node_name=node14_name, value=top_level_unique_values_dict['ee4d147b-84e2-4542-aec5-e317c5cab610'], initial_setup=True, is_output=False))
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='material', node_name=node14_name, value=top_level_unique_values_dict['8da3e6c9-5242-4b36-b680-05e63f769a7e'], initial_setup=True, is_output=False))
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='quality', node_name=node14_name, value=top_level_unique_values_dict['05beae1b-842c-45b3-8f26-4621ef92f48a'], initial_setup=True, is_output=False))
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='mesh_mode', node_name=node14_name, value=top_level_unique_values_dict['e66987e3-1983-4b19-9bb9-c80c59a990fa'], initial_setup=True, is_output=False))
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='use_original_alpha', node_name=node14_name, value=top_level_unique_values_dict['813dd3e5-599f-4607-ba12-1dd6a53bf8f0'], initial_setup=True, is_output=False))
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='ta_pose', node_name=node14_name, value=top_level_unique_values_dict['813dd3e5-599f-4607-ba12-1dd6a53bf8f0'], initial_setup=True, is_output=False))
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='bbox_condition', node_name=node14_name, value=top_level_unique_values_dict['34b11fef-2c50-4ebb-a2f4-6c069a5e01fb'], initial_setup=True, is_output=False))
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='high_pack', node_name=node14_name, value=top_level_unique_values_dict['813dd3e5-599f-4607-ba12-1dd6a53bf8f0'], initial_setup=True, is_output=False))
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='preview_render', node_name=node14_name, value=top_level_unique_values_dict['813dd3e5-599f-4607-ba12-1dd6a53bf8f0'], initial_setup=True, is_output=False))
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='randomize_seed', node_name=node14_name, value=top_level_unique_values_dict['813dd3e5-599f-4607-ba12-1dd6a53bf8f0'], initial_setup=True, is_output=False))
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='seed', node_name=node14_name, value=top_level_unique_values_dict['ee3eb5bd-6f52-4372-a69c-be2a916b4455'], initial_setup=True, is_output=False))
        GriptapeNodes.handle_request(SetParameterValueRequest(parameter_name='was_successful', node_name=node14_name, value=top_level_unique_values_dict['813dd3e5-599f-4607-ba12-1dd6a53bf8f0'], initial_setup=True, is_output=False))

def _ensure_workflow_context():
    context_manager = GriptapeNodes.ContextManager()
    if not context_manager.has_current_flow():
        top_level_flow_request = GetTopLevelFlowRequest()
        top_level_flow_result = GriptapeNodes.handle_request(top_level_flow_request)
        if isinstance(top_level_flow_result, GetTopLevelFlowResultSuccess) and top_level_flow_result.flow_name is not None:
            flow_manager = GriptapeNodes.FlowManager()
            flow_obj = flow_manager.get_flow_by_name(top_level_flow_result.flow_name)
            context_manager.push_flow(flow_obj)

def execute_workflow(input: dict, storage_backend: str='local', workflow_executor: WorkflowExecutor | None=None, pickle_control_flow_result: bool=False) -> dict | None:
    return asyncio.run(aexecute_workflow(input=input, storage_backend=storage_backend, workflow_executor=workflow_executor, pickle_control_flow_result=pickle_control_flow_result))

async def aexecute_workflow(input: dict, storage_backend: str='local', workflow_executor: WorkflowExecutor | None=None, pickle_control_flow_result: bool=False) -> dict | None:
    _ensure_workflow_context()
    storage_backend_enum = StorageBackend(storage_backend)
    workflow_executor = workflow_executor or LocalWorkflowExecutor(storage_backend=storage_backend_enum)
    async with workflow_executor as executor:
        await executor.arun(flow_input=input, pickle_control_flow_result=pickle_control_flow_result)
    return executor.output

if __name__ == '__main__':
    parser = argparse.ArgumentParser()
    parser.add_argument('--storage-backend', choices=['local', 'gtc'], default='local', help="Storage backend to use: 'local' for local filesystem or 'gtc' for Griptape Cloud")
    parser.add_argument('--json-input', default=None, help='JSON string containing parameter values. Takes precedence over individual parameter arguments if provided.')
    parser.add_argument('--exec_out', default=None, help='Connection to the next node in the execution chain')
    parser.add_argument('--image_url', default=None, help='Enter text/string for image_url.')
    parser.add_argument('--image', default=None, help='New parameter')
    args = parser.parse_args()
    flow_input = {}
    if args.json_input is not None:
        flow_input = json.loads(args.json_input)
    if args.json_input is None:
        if 'Start Flow' not in flow_input:
            flow_input['Start Flow'] = {}
        if args.exec_out is not None:
            flow_input['Start Flow']['exec_out'] = args.exec_out
        if args.image_url is not None:
            flow_input['Start Flow']['image_url'] = args.image_url
        if args.image is not None:
            flow_input['Start Flow']['image'] = args.image
    workflow_output = execute_workflow(input=flow_input, storage_backend=args.storage_backend)
    print(workflow_output)
